

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>exoplasim package &mdash; ExoPlaSim 2.0.4 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="ExoPlaSim Python API Documentation" href="../index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> ExoPlaSim
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">exoplasim package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-exoplasim.gcmt">exoplasim.gcmt module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-exoplasim">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ExoPlaSim</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>exoplasim package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/source/exoplasim.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="exoplasim-package">
<h1>exoplasim package<a class="headerlink" href="#exoplasim-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-exoplasim.gcmt">
<span id="exoplasim-gcmt-module"></span><h2>exoplasim.gcmt module<a class="headerlink" href="#module-exoplasim.gcmt" title="Permalink to this headline">¶</a></h2>
<dl class="py exception">
<dt id="exoplasim.gcmt.DatafileError">
<em class="property">exception </em><code class="sig-prename descclassname">exoplasim.gcmt.</code><code class="sig-name descname">DatafileError</code><a class="reference internal" href="../_modules/exoplasim/gcmt.html#DatafileError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.gcmt.DatafileError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py exception">
<dt id="exoplasim.gcmt.DimensionError">
<em class="property">exception </em><code class="sig-prename descclassname">exoplasim.gcmt.</code><code class="sig-name descname">DimensionError</code><a class="reference internal" href="../_modules/exoplasim/gcmt.html#DimensionError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.gcmt.DimensionError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py exception">
<dt id="exoplasim.gcmt.UnitError">
<em class="property">exception </em><code class="sig-prename descclassname">exoplasim.gcmt.</code><code class="sig-name descname">UnitError</code><a class="reference internal" href="../_modules/exoplasim/gcmt.html#UnitError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.gcmt.UnitError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py function">
<dt id="exoplasim.gcmt.cspatialmath">
<code class="sig-prename descclassname">exoplasim.gcmt.</code><code class="sig-name descname">cspatialmath</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">variable</span></em>, <em class="sig-param"><span class="n">lat</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">lon</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">file</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mean</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">time</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ignoreNaNs</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">lev</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">radius</span><span class="o">=</span><span class="default_value">6371000.0</span></em>, <em class="sig-param"><span class="n">poles</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim/gcmt.html#cspatialmath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.gcmt.cspatialmath" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute spatial means or sums of data, but optionally don’t go all the way to the poles.</p>
<p>Sometimes, saying that the latitudes covered go all the way to <span class="math notranslate nohighlight">\(\pm90^\circ\)</span> results in
errors, and accurate accounting requires excluding the poles themselves. This function
is identical to spatialmath, except that it provides that option.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>variable</strong> (<em>str</em><em>, </em><em>numpy.ndarray</em>) – The variable to operate on. Can either be a data array, or the name of a variable. If the latter, file must be specified.</p></li>
<li><p><strong>lat</strong> (<em>numpy.ndarray</em><em>, </em><em>optional</em>) – Latitude and longitude arrays. If file is provided and lat and lon are not, they will be
extracted from the file.</p></li>
<li><p><strong>lon</strong> (<em>numpy.ndarray</em><em>, </em><em>optional</em>) – Latitude and longitude arrays. If file is provided and lat and lon are not, they will be
extracted from the file.</p></li>
<li><p><strong>file</strong> (<em>str</em><em>, </em><em>optional</em>) – Path to a NetCDF output file to open and extract data from.</p></li>
<li><p><strong>mean</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, compute a global mean. If False, compute a global sum.</p></li>
<li><p><strong>time</strong> (<em>int</em><em>, </em><em>optional</em>) – The time index on which to slice. If unspecified, a time average will be returned.</p></li>
<li><p><strong>ignoreNaNs</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, use NaN-safe numpy operators.</p></li>
<li><p><strong>lev</strong> (<em>int</em><em>, </em><em>optional</em>) – If set, slice a 3D spatial array at the specified level.</p></li>
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – Radius of the planet in meters. Only used if mean=False.</p></li>
<li><p><strong>poles</strong> (<em>bool</em><em>, </em><em>optional</em>) – If False (default), exclude the poles.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="exoplasim.gcmt.make2d">
<code class="sig-prename descclassname">exoplasim.gcmt.</code><code class="sig-name descname">make2d</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">variable</span></em>, <em class="sig-param"><span class="n">lat</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">lon</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">lev</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ignoreNaNs</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim/gcmt.html#make2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.gcmt.make2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Compress a variable in two dimensions by slicing or averaging.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>variable</strong> (<em>numpy.ndarray</em>) – The variable to operate on</p></li>
<li><p><strong>lat</strong> (<em>int</em><em>, </em><em>str</em><em>, </em><em>optional</em>) – Either an index on which to slice, or either of “sum” or “mean”, indicating what
should be done along that axis.</p></li>
<li><p><strong>lon</strong> (<em>int</em><em>, </em><em>str</em><em>, </em><em>optional</em>) – Either an index on which to slice, or either of “sum” or “mean”, indicating what
should be done along that axis.</p></li>
<li><p><strong>lev</strong> (<em>int</em><em>, </em><em>str</em><em>, </em><em>optional</em>) – Either an index on which to slice, or either of “sum” or “mean”, indicating what
should be done along that axis.</p></li>
<li><p><strong>time</strong> (<em>int</em><em>, </em><em>optional</em>) – The time index on which to slice. If unspecified, a time average will be returned.</p></li>
<li><p><strong>ignoreNaNs</strong> (<em>bool</em><em>, </em><em>optional</em>) – If set, will use NaN-safe numpy operators.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A 2-D array</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="exoplasim.gcmt.parse">
<code class="sig-prename descclassname">exoplasim.gcmt.</code><code class="sig-name descname">parse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em>, <em class="sig-param"><span class="n">variable</span></em>, <em class="sig-param"><span class="n">lat</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">lon</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim/gcmt.html#parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.gcmt.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a variable from a NetCDF file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>str</em>) – Path to a NetCDF file</p></li>
<li><p><strong>variable</strong> (<em>str</em>) – Name of the variable to extract</p></li>
<li><p><strong>lat</strong> (<em>str</em><em>, </em><em>optional</em>) – If the latitude and longitude arrays have non-standard names, specify them here.</p></li>
<li><p><strong>lon</strong> (<em>str</em><em>, </em><em>optional</em>) – If the latitude and longitude arrays have non-standard names, specify them here.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Requested output field</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="exoplasim.gcmt.spatialmath">
<code class="sig-prename descclassname">exoplasim.gcmt.</code><code class="sig-name descname">spatialmath</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">variable</span></em>, <em class="sig-param"><span class="n">lat</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">lon</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">file</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mean</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">time</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ignoreNaNs</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">lev</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">radius</span><span class="o">=</span><span class="default_value">6371000.0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim/gcmt.html#spatialmath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.gcmt.spatialmath" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute spatial means or sums of data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>variable</strong> (<em>str</em><em>, </em><em>numpy.ndarray</em>) – The variable to operate on. Can either be a data array, or the name of a variable. If the latter, file must be specified.</p></li>
<li><p><strong>lat</strong> (<em>numpy.ndarray</em><em>, </em><em>optional</em>) – Latitude and longitude arrays. If file is provided and lat and lon are not, they will be
extracted from the file.</p></li>
<li><p><strong>lon</strong> (<em>numpy.ndarray</em><em>, </em><em>optional</em>) – Latitude and longitude arrays. If file is provided and lat and lon are not, they will be
extracted from the file.</p></li>
<li><p><strong>file</strong> (<em>str</em><em>, </em><em>optional</em>) – Path to a NetCDF output file to open and extract data from.</p></li>
<li><p><strong>mean</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, compute a global mean. If False, compute a global sum.</p></li>
<li><p><strong>time</strong> (<em>int</em><em>, </em><em>optional</em>) – The time index on which to slice. If unspecified, a time average will be returned.</p></li>
<li><p><strong>ignoreNaNs</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, use NaN-safe numpy operators.</p></li>
<li><p><strong>lev</strong> (<em>int</em><em>, </em><em>optional</em>) – If set, slice a 3D spatial array at the specified level.</p></li>
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – Radius of the planet in meters. Only used if mean=False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="exoplasim.gcmt.streamfxn">
<code class="sig-prename descclassname">exoplasim.gcmt.</code><code class="sig-name descname">streamfxn</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em>, <em class="sig-param"><span class="n">time</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim/gcmt.html#streamfxn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.gcmt.streamfxn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the streamfunction</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file</strong> (<em>str</em>) – Path to an ExoPlaSim NetCDF output file.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The streamfunction for the given file.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="exoplasim.gcmt.wrap2d">
<code class="sig-prename descclassname">exoplasim.gcmt.</code><code class="sig-name descname">wrap2d</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">var</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim/gcmt.html#wrap2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.gcmt.wrap2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one element to the longitude axis to allow for wrapping</p>
</dd></dl>

</div>
<div class="section" id="module-exoplasim">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-exoplasim" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="exoplasim.Earthlike">
<em class="property">class </em><code class="sig-prename descclassname">exoplasim.</code><code class="sig-name descname">Earthlike</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">resolution</span><span class="o">=</span><span class="default_value">'T21'</span></em>, <em class="sig-param"><span class="n">layers</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">ncpus</span><span class="o">=</span><span class="default_value">4</span></em>, <em class="sig-param"><span class="n">precision</span><span class="o">=</span><span class="default_value">8</span></em>, <em class="sig-param"><span class="n">debug</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">inityear</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">recompile</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">optimization</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mars</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">workdir</span><span class="o">=</span><span class="default_value">'most'</span></em>, <em class="sig-param"><span class="n">source</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">modelname</span><span class="o">=</span><span class="default_value">'MOST_EXP'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim.html#Earthlike"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.Earthlike" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#exoplasim.Model" title="exoplasim.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">exoplasim.Model</span></code></a></p>
<p>Create an Earth-like model, but more flexible.</p>
<p>Identical to Model, except configuration options common for
Earth-like models requiring slightly more flexibility are
the default when configure is called–specifically, 45-minute
timestep, snapshot output reporting every 480 timesteps, and
a model top pinned to 50 mbar. All these defaults can be overridden.</p>
<dl class="py method">
<dt id="exoplasim.Earthlike.configure">
<code class="sig-name descname">configure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timestep</span><span class="o">=</span><span class="default_value">45.0</span></em>, <em class="sig-param"><span class="n">snapshots</span><span class="o">=</span><span class="default_value">480</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim.html#Earthlike.configure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.Earthlike.configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the model’s namelists and boundary conditions.</p>
<blockquote>
<div><blockquote>
<div><p>The defaults here are appropriate for an Earth model.</p>
</div></blockquote>
<p><strong>Model Operation</strong></p>
<blockquote>
<div><dl>
<dt>noutput<span class="classifier">bool, optional</span></dt><dd><p>True/False. Whether or not model output should be written.
restartfile: Path to a restart file to use for initial conditions. Can be None.</p>
</dd>
<dt>writefrequency<span class="classifier">int, optional</span></dt><dd><p>How many times per day ExoPlaSim should write output. Ignored by
default–default is to write time-averaged output once every 5 days.</p>
</dd>
<dt>timestep<span class="classifier">float, optional</span></dt><dd><p>Model timestep. Defaults to 45 minutes.</p>
</dd>
<dt>runscript<span class="classifier">function , optional</span></dt><dd><p>A Python function that accepts a Model object as its first argument. This
is the routine that will be run when you issue the Model.run() command.
Any keyword arguments passed to run() will be forwarded to the specified
function. If not set, the default internal routine will be used.</p>
</dd>
<dt>snapshots<span class="classifier">int, optional</span></dt><dd><p>How many timesteps should elapse between snapshot outputs. If not set,
no snapshots will be written.</p>
</dd>
<dt>highcadence<span class="classifier">dict, optional</span></dt><dd><p>A dictionary containing the following arguments:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">'toggle'</span></code><span class="classifier">{0,1}</span></dt><dd><p>Whether or not high-cadence output should be written (1=yes).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'start'</span></code><span class="classifier">int</span></dt><dd><p>Timestep at which high-cadence output should begin.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'end'</span></code><span class="classifier">int</span></dt><dd><p>Timestep at which high-cadence output should end.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'interval'</span></code><span class="classifier">int</span></dt><dd><p>How many timesteps should elapse between high-cadence outputs.</p>
</dd>
</dl>
</div></blockquote>
</dd>
<dt>threshold<span class="classifier">float, optional</span></dt><dd><p>Energy balance threshold model should run to, if using runtobalance().
Default is &lt;0.05 W/m^2/yr average drift in TOA and surface energy balance
over 45-year timescales.</p>
</dd>
<dt>resources<span class="classifier">list, optional</span></dt><dd><p>A list of paths to any additional files that should be available in the
run directory.</p>
</dd>
<dt>otherargs<span class="classifier">dict, optional</span></dt><dd><p>Any namelist parameters not included by default in the configuration options.
These should be passed as a dictionary, with “<a class="reference external" href="mailto:PARAMETER&#37;&#52;&#48;namelist">PARAMETER<span>&#64;</span>namelist</a>” as the
form of the dictionary key, and the parameter value passed as a string.
e.g. <code class="docutils literal notranslate"><span class="pre">otherargs={&quot;N_RUN_MONTHS&#64;plasim_namelist&quot;:'4',&quot;NGUI&#64;plasim_namelist:'1'}</span></code></p>
</dd>
</dl>
</div></blockquote>
<p><strong>Model Dynamics</strong></p>
<blockquote>
<div><dl class="simple">
<dt>columnmode<span class="classifier">{None,”-“,”clear”,”static”,”static|clear”,”clear|static”}, optional</span></dt><dd><p>The inclusion of ‘static’ will disable horizontal advection, forcing ExoPlaSim
into a column-only mode of operation. The inclusion of ‘clear’ will disable
the radiative effects of clouds.</p>
</dd>
<dt>drycore<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, evaporation is turned off, and a dry atmosphere will
be used.</p>
</dd>
<dt>physicsfilter<span class="classifier">str, optional</span></dt><dd><p>If not an empty string, specifies the physics filter(s) to be used. Filters
can be used during the transform from gridpoint to spectral (<code class="docutils literal notranslate"><span class="pre">&quot;gp&quot;</span></code>), and/or
during the transform from spectral to gridpoint (<code class="docutils literal notranslate"><span class="pre">&quot;sp&quot;</span></code>). Filter types are
“none”, “cesaro”, “exp”, or “lh” (see the Notes for more details).
Combinations of filter types and times should be combined with a <code class="docutils literal notranslate"><span class="pre">|</span></code>,
e.g. <code class="docutils literal notranslate"><span class="pre">physicsfilter=&quot;gp|exp|sp&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">physicsfilter=&quot;gp|cesaro&quot;</span></code>.</p>
</dd>
<dt>filterkappa<span class="classifier">float, optional</span></dt><dd><p>A constant to be used with the exponential filter. Default is 8.0.</p>
</dd>
<dt>filterpower<span class="classifier">int, optional</span></dt><dd><p>A constant integer to be used with the exponential filter. Default is 8.</p>
</dd>
<dt>filterLHN0<span class="classifier">float, optional</span></dt><dd><p>The constant used in the denominator of the Lander-Hoskins Filter. Default
is 15; typically chosen so f(N)=0.1.</p>
</dd>
<dt>diffusionwaven<span class="classifier">int, optional</span></dt><dd><p>The critical wavenumber beyond which hyperdiffusion is applied. Default
is 15 for T21.</p>
</dd>
<dt>qdiffusion<span class="classifier">float, optional</span></dt><dd><p>Timescale for humidity hyperdiffusion in days. Default for T21 is 0.1.</p>
</dd>
<dt>tdiffusion<span class="classifier">float, optional</span></dt><dd><p>Timescale for temperature hyperdiffusion in days. Default for T21 is 5.6.</p>
</dd>
<dt>zdiffusion<span class="classifier">float, optional</span></dt><dd><p>Timescale for vorticity hyperdiffusion in days. Default for T21 is 1.1.</p>
</dd>
<dt>ddiffusion<span class="classifier">float, optional</span></dt><dd><p>Timescale for divergence hyperdiffusion in days.. Default for T21 is 0.2.</p>
</dd>
<dt>diffusionpower<span class="classifier">int, optional</span></dt><dd><p>integer exponent used in hyperdiffusion. Default is 2 for T21.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Radiation</strong></p>
<blockquote>
<div><dl class="simple">
<dt>flux<span class="classifier">float, optional</span></dt><dd><p>Incident stellar flux in W/m^2. Default 1367 for Earth.</p>
</dd>
<dt>startemp<span class="classifier">float, optional</span></dt><dd><p>Effective blackbody temperature for the star. Not used if not set.</p>
</dd>
<dt>starspec<span class="classifier">str, optional</span></dt><dd><p>Spectral file for the stellar spectrum. Should have two columns and 965 rows,
with wavelength in the first column and radiance or intensity in the second.
A similarly-named file with the “_hr.dat” suffix must also exist and have
2048 wavelengths.</p>
</dd>
<dt>twobandalbedo<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, separate albedos will be calculated for each of the
two shortwave bands. If False (default), a single broadband albedo will be
computed and used for both.</p>
</dd>
<dt>synchronous<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, the Sun is fixed to one longitude in the sky.</p>
</dd>
<dt>substellarlon<span class="classifier">float, optional</span></dt><dd><p>The longitude of the substellar point, if synchronous==True. Default 180°</p>
</dd>
<dt>pressurebroaden<span class="classifier">bool, optional</span></dt><dd><p>True/False. If False, pressure-broadening of absorbers no longer depends
on surface pressure. Default is True</p>
</dd>
<dt>ozone<span class="classifier">bool, optional</span></dt><dd><p>True/False. Whether or not forcing from stratospheric ozone should be included.</p>
</dd>
<dt>snowicealbedo<span class="classifier">float, optional</span></dt><dd><p>A uniform albedo to use for all snow and ice.</p>
</dd>
<dt>soilalbedo<span class="classifier">float, optional</span></dt><dd><p>A uniform albedo to use for all land.</p>
</dd>
<dt>wetsoil<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, land albedo depends on soil moisture (wet=darker).</p>
</dd>
<dt>oceanalbedo<span class="classifier">float, optional</span></dt><dd><p>A uniform albedo to use for the ocean.</p>
</dd>
<dt>oceanzenith<span class="classifier">{“ECHAM-3”,”ECHAM-6”,”Lambertian}, optional</span></dt><dd><p>The zenith-angle dependence to use for blue-light reflectance from the ocean.
Can be <code class="docutils literal notranslate"><span class="pre">'Lambertian'</span></code>/<code class="docutils literal notranslate"><span class="pre">'uniform'</span></code>, <code class="docutils literal notranslate"><span class="pre">'ECHAM-3'</span></code>/<code class="docutils literal notranslate"><span class="pre">'plasim'</span></code>/<code class="docutils literal notranslate"><span class="pre">'default'</span></code>, or <code class="docutils literal notranslate"><span class="pre">'ECHAM-6'</span></code>.
The default is <code class="docutils literal notranslate"><span class="pre">'ECHAM-3'</span></code> (synonymous with <code class="docutils literal notranslate"><span class="pre">'plasim'</span></code> and <code class="docutils literal notranslate"><span class="pre">'default'</span></code>), which is
the dependence used in the ECHAM-3 model.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Orbital Parameters</strong></p>
<blockquote>
<div><dl class="simple">
<dt>year<span class="classifier">float, optional</span></dt><dd><p>Number of 24-hour days in a sidereal year. Not necessary if eccentricity and
obliquity are zero. Defaults if not set to ~365.25 days</p>
</dd>
<dt>rotationperiod<span class="classifier">float, optional</span></dt><dd><p>Planetary rotation period, in days. Default is 1.0.</p>
</dd>
<dt>eccentricity<span class="classifier">float, optional</span></dt><dd><p>Orbital eccentricity. If not set, defaults to Earth’s (0.016715)</p>
</dd>
<dt>obliquity<span class="classifier">float, optional</span></dt><dd><p>Axial tilt, in degrees. If not set, defaults to Earth’s obliquity (23.441°).</p>
</dd>
<dt>lonvernaleq<span class="classifier">float, optional</span></dt><dd><p>Longitude of periapse, measured from vernal equinox, in degrees. If
not set, defaults to Earth’s (102.7°).</p>
</dd>
<dt>fixedorbit<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, orbital parameters do not vary over time. If False,
variations such as Milankovich cycles will be computed by PlaSim.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Planet Parameters</strong></p>
<blockquote>
<div><dl class="simple">
<dt>gravity<span class="classifier">float, optional</span></dt><dd><p>Surface gravity, in m/s^2. Defaults to 9.80665 m/s^2.</p>
</dd>
<dt>radius<span class="classifier">float, optional</span></dt><dd><p>Planet radius in Earth radii. Default is 1.0.</p>
</dd>
<dt>orography<span class="classifier">float, optional</span></dt><dd><p>If set, a scaling factor for topographic relief. If <code class="docutils literal notranslate"><span class="pre">orography=0.0</span></code>, topography
will be zeroed-out.</p>
</dd>
<dt>aquaplanet<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, the surface will be entirely ocean-covered.</p>
</dd>
<dt>desertplanet<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, the surface will be entirely land-covered.</p>
</dd>
<dt>seaice<span class="classifier">bool, optional</span></dt><dd><p>True/False. If False, disables radiative effects of sea ice (although sea ice
itself is still computed).</p>
</dd>
<dt>landmap<span class="classifier">str, optional</span></dt><dd><p>Path to a <code class="docutils literal notranslate"><span class="pre">.sra</span></code> file containing a land mask for the chosen resolution.</p>
</dd>
<dt>topomap<span class="classifier">str, optional</span></dt><dd><p>Path to a <code class="docutils literal notranslate"><span class="pre">.sra</span></code> file containing geopotential height map. Must include landmap.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Atmosphere</strong></p>
<blockquote>
<div><dl class="simple">
<dt>gascon<span class="classifier">float, optional</span></dt><dd><p>Effective gas constant. Defaults to 287.0 (Earth), or the gas constant
corresponding to the composition specified by partial pressures.</p>
</dd>
<dt>vtype<span class="classifier">{0,1,2,3,4,5}, optional</span></dt><dd><p>Type of vertical discretization. Can be:
0   Pseudolinear scaling with pressure that maintains resolution near the ground.
1   Linear scaling with pressure.
2   Logarithmic scaling with pressure (resolves high altitudes)
3   Pseudologarithmic scaling with pressure that preserves resolution near the ground.
4   Pseudolinear scaling with pressure, pinned to a specified top pressure.
5   If &gt;10 layers, bottom 10 as if <code class="docutils literal notranslate"><span class="pre">vtype=4</span></code>, and upper layers as if <code class="docutils literal notranslate"><span class="pre">vtype=2</span></code>.</p>
</dd>
<dt>modeltop<span class="classifier">float, optional</span></dt><dd><p>Pressure of the top layer</p>
</dd>
<dt>tropopause<span class="classifier">float, optional</span></dt><dd><p>If stratosphere is being included, pressure of the 10th layer (where scheme
switches from linear to logarithmic).</p>
</dd>
<dt>stratosphere<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, vtype=5 is used, and model is discretized to include
a stratosphere.</p>
</dd>
<dt>pressure: float, optional</dt><dd><p>Surface pressure in bars, if not specified through partial pressures.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Gas Partial Pressures</strong></p>
<p>Partial pressures of individual gases can be specified. If pressure and gascon are not explicitly set, these will determine surface pressure, mean molecular weight, and effective gas constant. Note however that Rayleigh scattering assumes an Earth-like composition, and the only absorbers explicitly included in the radiation scheme are CO2 and H2O.</p>
<blockquote>
<div><dl class="simple">
<dt>pH2<span class="classifier">float, optional</span></dt><dd><p>H2 partial pressure in bars.</p>
</dd>
<dt>pHe<span class="classifier">float, optional</span></dt><dd><p>He partial pressure in bars.</p>
</dd>
<dt>pN2<span class="classifier">float, optional</span></dt><dd><p>N2 partial pressure in bars.</p>
</dd>
<dt>pO2<span class="classifier">float, optional</span></dt><dd><p>O2 partial pressure in bars.</p>
</dd>
<dt>pH2<span class="classifier">float, optional</span></dt><dd><p>H2 partial pressure in bars.</p>
</dd>
<dt>pAr<span class="classifier">float, optional</span></dt><dd><p>Ar partial pressure in bars.</p>
</dd>
<dt>pNe<span class="classifier">float, optional</span></dt><dd><p>Ne partial pressure in bars.</p>
</dd>
<dt>pKr<span class="classifier">float, optional</span></dt><dd><p>Kr partial pressure in bars.</p>
</dd>
<dt>pCO2<span class="classifier">float, optional</span></dt><dd><p>CO2 partial pressure in bars. This gets translated into a ppmv concentration, so if you want to specify/vary CO2 but don’t need the other gases, specifying pCO2, pressure, and gascon will do the trick. In most use cases, however, just specifying pN2 and pCO2 will give good enough behavior.</p>
</dd>
<dt>pH2O<span class="classifier">float, optional</span></dt><dd><p>H2O partial pressure in bars. This is only useful in setting the gas constant and surface pressure; it will have no effect on actual moist processes.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Surface Parameters</strong></p>
<blockquote>
<div><dl class="simple">
<dt>mldepth<span class="classifier">float, optional</span></dt><dd><p>Depth of the mixed-layer ocean. Default is 50 meters.</p>
</dd>
<dt>soildepth<span class="classifier">float, optional</span></dt><dd><p>Scaling factor for the depth of soil layers (default total of 12.4 meters)</p>
</dd>
<dt>cpsoil<span class="classifier">float, optional</span></dt><dd><p>Heat capacity of the soil, in J/m^3/K. Default is 2.4*10^6.</p>
</dd>
<dt>soilwatercap<span class="classifier">float, optional</span></dt><dd><p>Water capacity of the soil, in meters. Defaults to 0.5 meters</p>
</dd>
<dt>soilsaturation<span class="classifier">float, optional</span></dt><dd><p>Initial fractional saturation of the soil. Default is 0.0 (dry).</p>
</dd>
<dt>maxsnow<span class="classifier">float, optional</span></dt><dd><p>Maximum snow depth (Default is 5 meters; set to -1 to have no limit).</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Additional Physics</strong></p>
<blockquote>
<div><dl class="simple">
<dt>Carbon-Silicate Weathering</dt><dd><dl class="simple">
<dt>co2weathering<span class="classifier">bool, optional</span></dt><dd><p>True/False. Toggles whether or not carbon-silicate weathering should be
computed. Default is False.</p>
</dd>
<dt>evolveco2<span class="classifier">bool, optional</span></dt><dd><p>True/False. If co2weathering==True, toggles whether or not the CO2 partial
pressure should be updated every year. Usually the change in pCO2 will be
extremely small, so this is not necessary, and weathering experiments try
to estimate the average weathering rate for a given climate in order to
interpolate timescales between climates, rather than modelling changes in CO2
over time directly.</p>
</dd>
<dt>outgassing<span class="classifier">float, optional</span></dt><dd><p>The assumed CO2 outgassing rate in units of Earth outgassing. Default is 1.0.</p>
</dd>
<dt>erosionsupplylimit<span class="classifier">float, optional</span></dt><dd><p>If set, the maximum CO2 weathering rate per year permitted by
erosion, in ubars/year. This is not simply a hard cutoff, but follows
Foley 2015 so high weathering below the cutoff is also reduced.</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p>See <a href="#id61"><span class="problematic" id="id1">[1]_</span></a> for details on the implementation of supply-limited weathering.</p>
<blockquote>
<div><dl>
<dt>Glaciology</dt><dd><dl>
<dt>glaciers<span class="classifier">dict, optional</span></dt><dd><p>A dictionary containing the following arguments:
toggle : bool</p>
<blockquote>
<div><p>True/False. Whether or not glaciers should be allowed to grow or shrink in thickness, or be formed from persistent snow on land.</p>
</div></blockquote>
<dl class="simple">
<dt>mindepth<span class="classifier">float</span></dt><dd><p>The minimum snow depth in meters of liquid water equivalent that must persist year-round before the grid cell is considered glaciated. Default is 2 meters.</p>
</dd>
<dt>initialh<span class="classifier">float</span></dt><dd><p>If &gt;=0, covers the land surface with ice sheets of a height given in meterss. If -1, no initial ice sheets are assumed.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>Storm Climatology</dt><dd><dl>
<dt>stormclim<span class="classifier">bool, optional</span></dt><dd><p>True/False. Toggles whether or not storm climatology (convective available
potential energy, maximum potential intensity, ventilation index, etc)
should be computed. If True, output fields related to storm climatology
will be added to standard output files. Enabling this mode currently roughly
doubles the computational cost of the model. This may improve in future
updates. Refer to Paradise, et al 2021 for implementation description.</p>
</dd>
<dt>stormcapture<span class="classifier">dict, optional</span></dt><dd><p>A dictionary containing arguments controlling when high-cadence output
is triggered by storm activity. This dictionary must contain ‘toggle’, which
can be either 1 or 0 (yes or no). It may also contain any namelist
parameters accepted by hurricanemod.f90, including the following:</p>
<dl class="simple">
<dt>toggle<span class="classifier">{0,1}</span></dt><dd><p>Whether (1) or not (0) to write high-cadence output when storms occur</p>
</dd>
<dt>NKTRIGGER<span class="classifier">{0,1}, optional</span></dt><dd><p>(0/1=no/yes). Whether or not to use the Komacek, et al 2020 conditions for hurricane cyclogenesis as the output trigger. Default is no.</p>
</dd>
<dt>VITHRESH<span class="classifier">float, optional</span></dt><dd><p>(nktrigger) Ventilation index threshold for nktrigger output. Default 0.145</p>
</dd>
<dt>VMXTHRESH<span class="classifier">float, optional</span></dt><dd><p>(nktrigger) Max potential intensity threshold for nktrigger output.Default 33 m/s</p>
</dd>
<dt>LAVTHRESH<span class="classifier">float, optional</span></dt><dd><p>(nktrigger) Lower-atmosphere vorticity threshold for nktrigger output. Default 1.2*10^-5 s^-1</p>
</dd>
<dt>VRMTHRESH<span class="classifier">float, optional</span></dt><dd><p>(unused) Ventilation-reduced maximum intensity threshold. Default 0.577</p>
</dd>
<dt>GPITHRESH<span class="classifier">float, optional</span></dt><dd><p>(default) Genesis Potential Index threshold. Default 0.37.</p>
</dd>
<dt>MINSURFTEMP<span class="classifier">float, optional</span></dt><dd><p>(default) Min. surface temperature for storm activity. Default 25C</p>
</dd>
<dt>MAXSURFTEMP<span class="classifier">float, optional</span></dt><dd><p>(default) Max. surface temperature for storm activity. Default 100C</p>
</dd>
<dt>WINDTHRESH<span class="classifier">float, optional</span></dt><dd><p>(default) Lower-atmosphere maximum wind threshold for storm activity.  Default 33 m/s</p>
</dd>
<dt>SWINDTHRESH<span class="classifier">float, optional</span></dt><dd><p>(default) Minimum surface windspeed for storm activity. Default 20.5 m/s</p>
</dd>
<dt>SIZETHRESH<span class="classifier">float, optional</span></dt><dd><p>(default) Minimum number of cells that must trigger to start outputDefault 30</p>
</dd>
<dt>ENDTHRESH<span class="classifier">float, optional</span></dt><dd><p>(default) Minimum number of cells at which point storm output ends.Default 16</p>
</dd>
<dt>MINSTORMLEN<span class="classifier">float, optional</span></dt><dd><p>(default) Minimum number of timesteps to write output. Default 256</p>
</dd>
<dt>MAXSTORMLEN<span class="classifier">float, optional</span></dt><dd><p>(default) Maximum number of timesteps to write output. Default 1024</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p>Note that actual number of writes will be stormlen/interval, as set in highcadence. This interval defaults to 4, so 64 writes minimum, 256 max. For more details on the storm climatology factors considered here, see <a href="#id62"><span class="problematic" id="id2">[5]_</span></a>.</p>
</div></blockquote>
<p class="rubric">Notes</p>
<p>In some cases, it may be necessary to include physics filters. This typically becomes
necessary when sharp features are projected on the model’s smallest spectral modes, causing
Gibbs “ripples”. Earth-like models typically do not require filtering, but tidally-locked
models do. Filtering may be beneficial for Earth-like models at very high resolutions as well,
or if there is sharp topography.</p>
<p>Three filter functional forms are included in ExoPlaSim: Cesaro, exponential, and Lander-Hoskins. Their functional forms are given below, where <cite>n</cite> is the wavenumber, and <cite>N</cite> is the
truncation wavenumber (e.g. 21 for T21):</p>
<p>Cesaro: <span class="math notranslate nohighlight">\(f(n)=1-\frac{n}{N+1}\)</span> <a href="#id63"><span class="problematic" id="id3">[2]_</span></a></p>
<p>Exponential: <span class="math notranslate nohighlight">\(f(n)=\exp\left[-\kappa\left(\frac{n}{N}\right)^\gamma\right]\)</span> <a href="#id64"><span class="problematic" id="id4">[3]_</span></a></p>
<p>Lander-Hoskins: <span class="math notranslate nohighlight">\(f(n)=\exp\left[-\left(\frac{n(n+1)}{n_0(n_0+1}\right)^2\right]\)</span> <a href="#id65"><span class="problematic" id="id5">[3]_</span></a> <a href="#id66"><span class="problematic" id="id6">[4]_</span></a></p>
<p><span class="math notranslate nohighlight">\(\kappa\)</span> is exposed to the user through <code class="docutils literal notranslate"><span class="pre">filterkappa</span></code>,
<span class="math notranslate nohighlight">\(\gamma\)</span> is exposed through <code class="docutils literal notranslate"><span class="pre">filterpower</span></code>, and <span class="math notranslate nohighlight">\(n_0\)</span> is
exposed through <code class="docutils literal notranslate"><span class="pre">filterLHN0</span></code>.</p>
<p>Physics filters can be applied at two different points; either at the transform from gridpoint
to spectral, or the reverse. We find that in most cases, the ideal usage is to use both.
Generally, a filter at the gridpoint-&gt;spectral transform is good for dealing with oscillations
caused by sharp jumps and small features in the gridpoint tendencies. Conversely, a filter
at the spectral-&gt;gridpoint transform is good for dealing with oscillations that come from
small-scale features in the spectral fields causing small-scale features to appear in the
gridpoint tendencies <a href="#id67"><span class="problematic" id="id7">[3]_</span></a>. Since we deal with climate systems where everything is coupled,
any oscillations not removed by one filter will be amplified through physical feedbacks if not
suppressed by the other filter.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">modify</span></code></dt><dd><p>Change model configuration after it has been initialized</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id8"><span class="brackets">1</span></dt>
<dd><p>Foley, B. J. (2015). The Role of Plate Tectonic-Climate Coupling and Exposed Land Area in the Development of Habitable Climates on Rocky Planets. The Astrophysical Journal, 812(1), 36. <a class="reference external" href="https://doi.org/10.1088/0004-637X/812/1/36">https://doi.org/10.1088/0004-637X/812/1/36</a></p>
</dd>
<dt class="label" id="id9"><span class="brackets">2</span></dt>
<dd><p>Navarra, A., Stern, W. F., &amp; Miyakoda, K. (1994). Reduction of the Gibbs Oscillation in Spectral Model Simulations. Journal of Climate, 7(8), 1169–1183. <a class="reference external" href="https://doi.org/10.1175/1520-0442(1994">https://doi.org/10.1175/1520-0442(1994</a>)007&lt;1169:ROTGOI&gt;2.0.CO;2</p>
</dd>
<dt class="label" id="id10"><span class="brackets">3</span></dt>
<dd><p>Lander, J., &amp; Hoskins, B. J. (1997). Believable Scales and Parameterizations in a Spectral Transform Model. Monthly Weather Review, 125(2), 292–303. <a class="reference external" href="https://doi.org/10.1175/1520-0493(1997">https://doi.org/10.1175/1520-0493(1997</a>)125&lt;0292:BSAPIA&gt;2.0.CO;2</p>
</dd>
<dt class="label" id="id11"><span class="brackets">4</span></dt>
<dd><p>Scinocca, J. F., McFarlane, N. A., Lazare, M., Li, J., &amp; Plummer, D. (2008). Technical Note: The CCCma third generation AGCM and its extension into the middle atmosphere. Atmospheric Chemistry and Physics, 8(23), 7055–7074. <a class="reference external" href="https://doi.org/10.5194/acp-8-7055-2008">https://doi.org/10.5194/acp-8-7055-2008</a></p>
</dd>
<dt class="label" id="id12"><span class="brackets">5</span></dt>
<dd><p>Komacek, T. D., Chavas, D. R., &amp; Abbot, D. S. (2020). Hurricane Genesis is Favorable on Terrestrial Exoplanets Orbiting Late-type M Dwarf Stars. The Astrophysical Journal, 898(2), 115. <a class="reference external" href="https://doi.org/10.3847/1538-4357/aba0b9">https://doi.org/10.3847/1538-4357/aba0b9</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="exoplasim.Model">
<em class="property">class </em><code class="sig-prename descclassname">exoplasim.</code><code class="sig-name descname">Model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">resolution</span><span class="o">=</span><span class="default_value">'T21'</span></em>, <em class="sig-param"><span class="n">layers</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">ncpus</span><span class="o">=</span><span class="default_value">4</span></em>, <em class="sig-param"><span class="n">precision</span><span class="o">=</span><span class="default_value">8</span></em>, <em class="sig-param"><span class="n">debug</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">inityear</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">recompile</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">optimization</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mars</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">workdir</span><span class="o">=</span><span class="default_value">'most'</span></em>, <em class="sig-param"><span class="n">source</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">modelname</span><span class="o">=</span><span class="default_value">'MOST_EXP'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim.html#Model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.Model" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Create an ExoPlaSim model in a particular directory.</p>
<p>Initialize an ExoPlaSim model in a particular directory.
If the necessary executable does not yet exist, compile it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resolution</strong> (<em>str</em><em>, </em><em>optional</em>) – The resolution of the model. Options are T21, T42, T63, T85,
T106, T127, and T170, corresponding to 32, 64, 96, 128, 160,
192, and 256 latitudes respectively, and twice as many
longitudes. ExoPlaSim has been tested and validated most
extensively at T21 and T42. Higher resolutions will take
considerable time to run.</p></li>
<li><p><strong>layers</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of vertical layers in the model atmosphere. The default
is 10, but PlaSim has been used with 5 layers in many studies.
More layers are supported, but not recommended except at higher
resolutions.</p></li>
<li><p><strong>ncpus</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of MPI processes to use, typically the number of cores
available. If ncpus=1, MPI will not be used.</p></li>
<li><p><strong>precision</strong> (<em>int</em><em>, </em><em>optional</em>) – Either 4 or 8–specifies the number of bytes for a Fortran real.</p></li>
<li><p><strong>debug</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, compiler optimizations are disabled
and the code is compiled with debugging flags enabled that will
allow line-by-line tracebacks if ExoPlaSim crashes. Only use for
development purposes.</p></li>
<li><p><strong>inityear</strong> (<em>int</em><em>, </em><em>optional</em>) – The number to use for the initial model year (default 0).</p></li>
<li><p><strong>recompile</strong> (<em>bool</em><em>, </em><em>optional</em>) – True/False flag used to force a recompile. Cannot force the
model to skip compilation if the executable does not exist or
compilation-inducing flags are set.</p></li>
<li><p><strong>optimization</strong> (<em>str</em><em>, </em><em>optional</em>) – Fortran compiler arguments for optimization. ANY compiler
flags can be passed here, but it’s intended for optimization
flags. Setting this will trigger a recompile.</p></li>
<li><p><strong>mars</strong> (<em>bool</em><em>, </em><em>optional</em>) – True/False. If True, will use Mars-specific routines.</p></li>
<li><p><strong>workdir</strong> (<em>str</em><em>, </em><em>optional</em>) – The directory in which to construct the model.</p></li>
<li><p><strong>source</strong> (<em>str</em><em>, </em><em>optional</em>) – The directory in which to look for executables, namelists,
boundary conditions, etc. If not set, will default to exoplasim/plasim/run/.</p></li>
<li><p><strong>modelname</strong> (<em>str</em><em>, </em><em>optional</em>) – The name to use for the model and its output files when finished.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An instantiated Model object that resides in a directory with the namelists
and executable necessary to run ExoPlaSim.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#exoplasim.Model" title="exoplasim.Model">Model</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">exoplasim</span> <span class="k">as</span> <span class="nn">exo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mymodel</span> <span class="o">=</span> <span class="n">exo</span><span class="o">.</span><span class="n">Model</span><span class="p">(</span><span class="n">workdir</span><span class="o">=</span><span class="s2">&quot;mymodel_testrun&quot;</span><span class="p">,</span><span class="n">modelname</span><span class="o">=</span><span class="s2">&quot;mymodel&quot;</span><span class="p">,</span><span class="n">resolution</span><span class="o">=</span><span class="s2">&quot;T21&quot;</span><span class="p">,</span><span class="n">layers</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">ncpus</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mymodel</span><span class="o">.</span><span class="n">configure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mymodel</span><span class="o">.</span><span class="n">exportcfg</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mymodel</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">years</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="n">crashifbroken</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mymodel</span><span class="o">.</span><span class="n">finalize</span><span class="p">(</span><span class="s2">&quot;mymodel_output&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>In this example, we initialize a model that will run in the directory
“mymodel_testrun”, and has the name “mymodel”, which will be used to
label output and error logs. The model has T21 resolution, or 32x64,
10 layers, and will run on 8 CPUs. By default, the compiler will use
8-byte precision. 4-byte may run slightly faster, but possibly at the
cost of reduced stability. If there are machine-specific optimization
flags you would like to use when compiling, you may specify them as a
string to the optimization argument, e.g. <code class="docutils literal notranslate"><span class="pre">optimization='mavx'</span></code>. ExoPlaSim
will check to see if an appropriate executable has already been created,
and if not (or if flags indicating special compiler behavior such as
debug=True or an optimization flag are set) it will compile one. We then
configure the model with all the default parameter choices, which means
we will get a model of Earth. We then export the model configurations
to a <code class="docutils literal notranslate"><span class="pre">.cfg</span></code> file (named automatically after the model), which will allow
the model configuration to be recreated exactly by other users. We
run the model for 100 years, with error-handling enabled. Finally, we
tell the model to clean up after itself. It will take the most recent
output files and rename them after the model name we chose, and delete
all the intermediate output and configuration files.</p>
<dl class="py method">
<dt id="exoplasim.Model.configure">
<code class="sig-name descname">configure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">noutput</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">flux</span><span class="o">=</span><span class="default_value">1367.0</span></em>, <em class="sig-param"><span class="n">startemp</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">starspec</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pH2</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pHe</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pN2</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pO2</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pCO2</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pAr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pNe</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pKr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pH2O</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gascon</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pressure</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pressurebroaden</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">vtype</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">rotationperiod</span><span class="o">=</span><span class="default_value">24.0</span></em>, <em class="sig-param"><span class="n">synchronous</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">substellarlon</span><span class="o">=</span><span class="default_value">180.0</span></em>, <em class="sig-param"><span class="n">year</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">glaciers</span><span class="o">=</span><span class="default_value">{'initialh': - 1.0, 'mindepth': 2.0, 'toggle': False}</span></em>, <em class="sig-param"><span class="n">restartfile</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gravity</span><span class="o">=</span><span class="default_value">9.80665</span></em>, <em class="sig-param"><span class="n">radius</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">eccentricity</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">obliquity</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">lonvernaleq</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fixedorbit</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">orography</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">seaice</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">co2weathering</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">evolveco2</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">physicsfilter</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">filterkappa</span><span class="o">=</span><span class="default_value">8.0</span></em>, <em class="sig-param"><span class="n">filterpower</span><span class="o">=</span><span class="default_value">8</span></em>, <em class="sig-param"><span class="n">filterLHN0</span><span class="o">=</span><span class="default_value">15.0</span></em>, <em class="sig-param"><span class="n">diffusionwaven</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">qdiffusion</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tdiffusion</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">zdiffusion</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ddiffusion</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">diffusionpower</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">erosionsupplylimit</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">outgassing</span><span class="o">=</span><span class="default_value">50.0</span></em>, <em class="sig-param"><span class="n">snowicealbedo</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">twobandalbedo</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">maxsnow</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">soilalbedo</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">oceanalbedo</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">oceanzenith</span><span class="o">=</span><span class="default_value">'ECHAM-3'</span></em>, <em class="sig-param"><span class="n">wetsoil</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">soilwatercap</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">aquaplanet</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">desertplanet</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">soilsaturation</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">drycore</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">ozone</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">cpsoil</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">soildepth</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">mldepth</span><span class="o">=</span><span class="default_value">50.0</span></em>, <em class="sig-param"><span class="n">writefrequency</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">modeltop</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">stratosphere</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">tropopause</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">timestep</span><span class="o">=</span><span class="default_value">45.0</span></em>, <em class="sig-param"><span class="n">runscript</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">columnmode</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">highcadence</span><span class="o">=</span><span class="default_value">{'end': 576, 'interval': 4, 'start': 320, 'toggle': 0}</span></em>, <em class="sig-param"><span class="n">snapshots</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">resources</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">landmap</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">stormclim</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">nstorms</span><span class="o">=</span><span class="default_value">4</span></em>, <em class="sig-param"><span class="n">stormcapture</span><span class="o">=</span><span class="default_value">{'ENDTHRESH': 16, 'GPITHRESH': 0.37, 'LAVTHRESH': 1.2e-05, 'MAXSTORMLEN': 1024, 'MAXSURFTEMP': 373.15, 'MINSTORMLEN': 256, 'MINSURFTEMP': 298.15, 'NKTRIGGER': 0, 'SIZETHRESH': 30, 'SWINDTHRESH': 20.5, 'VITHRESH': 0.145, 'VMXTHRESH': 33.0, 'VRMTHRESH': 0.577, 'WINDTHRESH': 33.0, 'toggle': 0}</span></em>, <em class="sig-param"><span class="n">topomap</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="o">=</span><span class="default_value">0.0005</span></em>, <em class="sig-param"><span class="n">otherargs</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim.html#Model.configure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.Model.configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the model’s namelists and boundary conditions.</p>
<blockquote>
<div><blockquote>
<div><p>The defaults here are appropriate for an Earth model.</p>
</div></blockquote>
<p><strong>Model Operation</strong></p>
<blockquote>
<div><dl>
<dt>noutput<span class="classifier">bool, optional</span></dt><dd><p>True/False. Whether or not model output should be written.
restartfile: Path to a restart file to use for initial conditions. Can be None.</p>
</dd>
<dt>writefrequency<span class="classifier">int, optional</span></dt><dd><p>How many times per day ExoPlaSim should write output. Ignored by
default–default is to write time-averaged output once every 5 days.</p>
</dd>
<dt>timestep<span class="classifier">float, optional</span></dt><dd><p>Model timestep. Defaults to 45 minutes.</p>
</dd>
<dt>runscript<span class="classifier">function , optional</span></dt><dd><p>A Python function that accepts a Model object as its first argument. This
is the routine that will be run when you issue the Model.run() command.
Any keyword arguments passed to run() will be forwarded to the specified
function. If not set, the default internal routine will be used.</p>
</dd>
<dt>snapshots<span class="classifier">int, optional</span></dt><dd><p>How many timesteps should elapse between snapshot outputs. If not set,
no snapshots will be written.</p>
</dd>
<dt>highcadence<span class="classifier">dict, optional</span></dt><dd><p>A dictionary containing the following arguments:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">'toggle'</span></code><span class="classifier">{0,1}</span></dt><dd><p>Whether or not high-cadence output should be written (1=yes).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'start'</span></code><span class="classifier">int</span></dt><dd><p>Timestep at which high-cadence output should begin.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'end'</span></code><span class="classifier">int</span></dt><dd><p>Timestep at which high-cadence output should end.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'interval'</span></code><span class="classifier">int</span></dt><dd><p>How many timesteps should elapse between high-cadence outputs.</p>
</dd>
</dl>
</div></blockquote>
</dd>
<dt>threshold<span class="classifier">float, optional</span></dt><dd><p>Energy balance threshold model should run to, if using runtobalance().
Default is &lt;0.05 W/m^2/yr average drift in TOA and surface energy balance
over 45-year timescales.</p>
</dd>
<dt>resources<span class="classifier">list, optional</span></dt><dd><p>A list of paths to any additional files that should be available in the
run directory.</p>
</dd>
<dt>otherargs<span class="classifier">dict, optional</span></dt><dd><p>Any namelist parameters not included by default in the configuration options.
These should be passed as a dictionary, with “<a class="reference external" href="mailto:PARAMETER&#37;&#52;&#48;namelist">PARAMETER<span>&#64;</span>namelist</a>” as the
form of the dictionary key, and the parameter value passed as a string.
e.g. <code class="docutils literal notranslate"><span class="pre">otherargs={&quot;N_RUN_MONTHS&#64;plasim_namelist&quot;:'4',&quot;NGUI&#64;plasim_namelist:'1'}</span></code></p>
</dd>
</dl>
</div></blockquote>
<p><strong>Model Dynamics</strong></p>
<blockquote>
<div><dl class="simple">
<dt>columnmode<span class="classifier">{None,”-“,”clear”,”static”,”static|clear”,”clear|static”}, optional</span></dt><dd><p>The inclusion of ‘static’ will disable horizontal advection, forcing ExoPlaSim
into a column-only mode of operation. The inclusion of ‘clear’ will disable
the radiative effects of clouds.</p>
</dd>
<dt>drycore<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, evaporation is turned off, and a dry atmosphere will
be used.</p>
</dd>
<dt>physicsfilter<span class="classifier">str, optional</span></dt><dd><p>If not an empty string, specifies the physics filter(s) to be used. Filters
can be used during the transform from gridpoint to spectral (<code class="docutils literal notranslate"><span class="pre">&quot;gp&quot;</span></code>), and/or
during the transform from spectral to gridpoint (<code class="docutils literal notranslate"><span class="pre">&quot;sp&quot;</span></code>). Filter types are
“none”, “cesaro”, “exp”, or “lh” (see the Notes for more details).
Combinations of filter types and times should be combined with a <code class="docutils literal notranslate"><span class="pre">|</span></code>,
e.g. <code class="docutils literal notranslate"><span class="pre">physicsfilter=&quot;gp|exp|sp&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">physicsfilter=&quot;gp|cesaro&quot;</span></code>.</p>
</dd>
<dt>filterkappa<span class="classifier">float, optional</span></dt><dd><p>A constant to be used with the exponential filter. Default is 8.0.</p>
</dd>
<dt>filterpower<span class="classifier">int, optional</span></dt><dd><p>A constant integer to be used with the exponential filter. Default is 8.</p>
</dd>
<dt>filterLHN0<span class="classifier">float, optional</span></dt><dd><p>The constant used in the denominator of the Lander-Hoskins Filter. Default
is 15; typically chosen so f(N)=0.1.</p>
</dd>
<dt>diffusionwaven<span class="classifier">int, optional</span></dt><dd><p>The critical wavenumber beyond which hyperdiffusion is applied. Default
is 15 for T21.</p>
</dd>
<dt>qdiffusion<span class="classifier">float, optional</span></dt><dd><p>Timescale for humidity hyperdiffusion in days. Default for T21 is 0.1.</p>
</dd>
<dt>tdiffusion<span class="classifier">float, optional</span></dt><dd><p>Timescale for temperature hyperdiffusion in days. Default for T21 is 5.6.</p>
</dd>
<dt>zdiffusion<span class="classifier">float, optional</span></dt><dd><p>Timescale for vorticity hyperdiffusion in days. Default for T21 is 1.1.</p>
</dd>
<dt>ddiffusion<span class="classifier">float, optional</span></dt><dd><p>Timescale for divergence hyperdiffusion in days.. Default for T21 is 0.2.</p>
</dd>
<dt>diffusionpower<span class="classifier">int, optional</span></dt><dd><p>integer exponent used in hyperdiffusion. Default is 2 for T21.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Radiation</strong></p>
<blockquote>
<div><dl class="simple">
<dt>flux<span class="classifier">float, optional</span></dt><dd><p>Incident stellar flux in W/m^2. Default 1367 for Earth.</p>
</dd>
<dt>startemp<span class="classifier">float, optional</span></dt><dd><p>Effective blackbody temperature for the star. Not used if not set.</p>
</dd>
<dt>starspec<span class="classifier">str, optional</span></dt><dd><p>Spectral file for the stellar spectrum. Should have two columns and 965 rows,
with wavelength in the first column and radiance or intensity in the second.
A similarly-named file with the “_hr.dat” suffix must also exist and have
2048 wavelengths.</p>
</dd>
<dt>twobandalbedo<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, separate albedos will be calculated for each of the
two shortwave bands. If False (default), a single broadband albedo will be
computed and used for both.</p>
</dd>
<dt>synchronous<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, the Sun is fixed to one longitude in the sky.</p>
</dd>
<dt>substellarlon<span class="classifier">float, optional</span></dt><dd><p>The longitude of the substellar point, if synchronous==True. Default 180°</p>
</dd>
<dt>pressurebroaden<span class="classifier">bool, optional</span></dt><dd><p>True/False. If False, pressure-broadening of absorbers no longer depends
on surface pressure. Default is True</p>
</dd>
<dt>ozone<span class="classifier">bool, optional</span></dt><dd><p>True/False. Whether or not forcing from stratospheric ozone should be included.</p>
</dd>
<dt>snowicealbedo<span class="classifier">float, optional</span></dt><dd><p>A uniform albedo to use for all snow and ice.</p>
</dd>
<dt>soilalbedo<span class="classifier">float, optional</span></dt><dd><p>A uniform albedo to use for all land.</p>
</dd>
<dt>wetsoil<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, land albedo depends on soil moisture (wet=darker).</p>
</dd>
<dt>oceanalbedo<span class="classifier">float, optional</span></dt><dd><p>A uniform albedo to use for the ocean.</p>
</dd>
<dt>oceanzenith<span class="classifier">{“ECHAM-3”,”ECHAM-6”,”Lambertian}, optional</span></dt><dd><p>The zenith-angle dependence to use for blue-light reflectance from the ocean.
Can be <code class="docutils literal notranslate"><span class="pre">'Lambertian'</span></code>/<code class="docutils literal notranslate"><span class="pre">'uniform'</span></code>, <code class="docutils literal notranslate"><span class="pre">'ECHAM-3'</span></code>/<code class="docutils literal notranslate"><span class="pre">'plasim'</span></code>/<code class="docutils literal notranslate"><span class="pre">'default'</span></code>, or <code class="docutils literal notranslate"><span class="pre">'ECHAM-6'</span></code>.
The default is <code class="docutils literal notranslate"><span class="pre">'ECHAM-3'</span></code> (synonymous with <code class="docutils literal notranslate"><span class="pre">'plasim'</span></code> and <code class="docutils literal notranslate"><span class="pre">'default'</span></code>), which is
the dependence used in the ECHAM-3 model.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Orbital Parameters</strong></p>
<blockquote>
<div><dl class="simple">
<dt>year<span class="classifier">float, optional</span></dt><dd><p>Number of 24-hour days in a sidereal year. Not necessary if eccentricity and
obliquity are zero. Defaults if not set to ~365.25 days</p>
</dd>
<dt>rotationperiod<span class="classifier">float, optional</span></dt><dd><p>Planetary rotation period, in days. Default is 1.0.</p>
</dd>
<dt>eccentricity<span class="classifier">float, optional</span></dt><dd><p>Orbital eccentricity. If not set, defaults to Earth’s (0.016715)</p>
</dd>
<dt>obliquity<span class="classifier">float, optional</span></dt><dd><p>Axial tilt, in degrees. If not set, defaults to Earth’s obliquity (23.441°).</p>
</dd>
<dt>lonvernaleq<span class="classifier">float, optional</span></dt><dd><p>Longitude of periapse, measured from vernal equinox, in degrees. If
not set, defaults to Earth’s (102.7°).</p>
</dd>
<dt>fixedorbit<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, orbital parameters do not vary over time. If False,
variations such as Milankovich cycles will be computed by PlaSim.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Planet Parameters</strong></p>
<blockquote>
<div><dl class="simple">
<dt>gravity<span class="classifier">float, optional</span></dt><dd><p>Surface gravity, in m/s^2. Defaults to 9.80665 m/s^2.</p>
</dd>
<dt>radius<span class="classifier">float, optional</span></dt><dd><p>Planet radius in Earth radii. Default is 1.0.</p>
</dd>
<dt>orography<span class="classifier">float, optional</span></dt><dd><p>If set, a scaling factor for topographic relief. If <code class="docutils literal notranslate"><span class="pre">orography=0.0</span></code>, topography
will be zeroed-out.</p>
</dd>
<dt>aquaplanet<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, the surface will be entirely ocean-covered.</p>
</dd>
<dt>desertplanet<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, the surface will be entirely land-covered.</p>
</dd>
<dt>seaice<span class="classifier">bool, optional</span></dt><dd><p>True/False. If False, disables radiative effects of sea ice (although sea ice
itself is still computed).</p>
</dd>
<dt>landmap<span class="classifier">str, optional</span></dt><dd><p>Path to a <code class="docutils literal notranslate"><span class="pre">.sra</span></code> file containing a land mask for the chosen resolution.</p>
</dd>
<dt>topomap<span class="classifier">str, optional</span></dt><dd><p>Path to a <code class="docutils literal notranslate"><span class="pre">.sra</span></code> file containing geopotential height map. Must include landmap.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Atmosphere</strong></p>
<blockquote>
<div><dl class="simple">
<dt>gascon<span class="classifier">float, optional</span></dt><dd><p>Effective gas constant. Defaults to 287.0 (Earth), or the gas constant
corresponding to the composition specified by partial pressures.</p>
</dd>
<dt>vtype<span class="classifier">{0,1,2,3,4,5}, optional</span></dt><dd><p>Type of vertical discretization. Can be:
0   Pseudolinear scaling with pressure that maintains resolution near the ground.
1   Linear scaling with pressure.
2   Logarithmic scaling with pressure (resolves high altitudes)
3   Pseudologarithmic scaling with pressure that preserves resolution near the ground.
4   Pseudolinear scaling with pressure, pinned to a specified top pressure.
5   If &gt;10 layers, bottom 10 as if <code class="docutils literal notranslate"><span class="pre">vtype=4</span></code>, and upper layers as if <code class="docutils literal notranslate"><span class="pre">vtype=2</span></code>.</p>
</dd>
<dt>modeltop<span class="classifier">float, optional</span></dt><dd><p>Pressure of the top layer</p>
</dd>
<dt>tropopause<span class="classifier">float, optional</span></dt><dd><p>If stratosphere is being included, pressure of the 10th layer (where scheme
switches from linear to logarithmic).</p>
</dd>
<dt>stratosphere<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, vtype=5 is used, and model is discretized to include
a stratosphere.</p>
</dd>
<dt>pressure: float, optional</dt><dd><p>Surface pressure in bars, if not specified through partial pressures.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Gas Partial Pressures</strong></p>
<p>Partial pressures of individual gases can be specified. If pressure and gascon are not explicitly set, these will determine surface pressure, mean molecular weight, and effective gas constant. Note however that Rayleigh scattering assumes an Earth-like composition, and the only absorbers explicitly included in the radiation scheme are CO2 and H2O.</p>
<blockquote>
<div><dl class="simple">
<dt>pH2<span class="classifier">float, optional</span></dt><dd><p>H2 partial pressure in bars.</p>
</dd>
<dt>pHe<span class="classifier">float, optional</span></dt><dd><p>He partial pressure in bars.</p>
</dd>
<dt>pN2<span class="classifier">float, optional</span></dt><dd><p>N2 partial pressure in bars.</p>
</dd>
<dt>pO2<span class="classifier">float, optional</span></dt><dd><p>O2 partial pressure in bars.</p>
</dd>
<dt>pH2<span class="classifier">float, optional</span></dt><dd><p>H2 partial pressure in bars.</p>
</dd>
<dt>pAr<span class="classifier">float, optional</span></dt><dd><p>Ar partial pressure in bars.</p>
</dd>
<dt>pNe<span class="classifier">float, optional</span></dt><dd><p>Ne partial pressure in bars.</p>
</dd>
<dt>pKr<span class="classifier">float, optional</span></dt><dd><p>Kr partial pressure in bars.</p>
</dd>
<dt>pCO2<span class="classifier">float, optional</span></dt><dd><p>CO2 partial pressure in bars. This gets translated into a ppmv concentration, so if you want to specify/vary CO2 but don’t need the other gases, specifying pCO2, pressure, and gascon will do the trick. In most use cases, however, just specifying pN2 and pCO2 will give good enough behavior.</p>
</dd>
<dt>pH2O<span class="classifier">float, optional</span></dt><dd><p>H2O partial pressure in bars. This is only useful in setting the gas constant and surface pressure; it will have no effect on actual moist processes.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Surface Parameters</strong></p>
<blockquote>
<div><dl class="simple">
<dt>mldepth<span class="classifier">float, optional</span></dt><dd><p>Depth of the mixed-layer ocean. Default is 50 meters.</p>
</dd>
<dt>soildepth<span class="classifier">float, optional</span></dt><dd><p>Scaling factor for the depth of soil layers (default total of 12.4 meters)</p>
</dd>
<dt>cpsoil<span class="classifier">float, optional</span></dt><dd><p>Heat capacity of the soil, in J/m^3/K. Default is 2.4*10^6.</p>
</dd>
<dt>soilwatercap<span class="classifier">float, optional</span></dt><dd><p>Water capacity of the soil, in meters. Defaults to 0.5 meters</p>
</dd>
<dt>soilsaturation<span class="classifier">float, optional</span></dt><dd><p>Initial fractional saturation of the soil. Default is 0.0 (dry).</p>
</dd>
<dt>maxsnow<span class="classifier">float, optional</span></dt><dd><p>Maximum snow depth (Default is 5 meters; set to -1 to have no limit).</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Additional Physics</strong></p>
<blockquote>
<div><dl class="simple">
<dt>Carbon-Silicate Weathering</dt><dd><dl class="simple">
<dt>co2weathering<span class="classifier">bool, optional</span></dt><dd><p>True/False. Toggles whether or not carbon-silicate weathering should be
computed. Default is False.</p>
</dd>
<dt>evolveco2<span class="classifier">bool, optional</span></dt><dd><p>True/False. If co2weathering==True, toggles whether or not the CO2 partial
pressure should be updated every year. Usually the change in pCO2 will be
extremely small, so this is not necessary, and weathering experiments try
to estimate the average weathering rate for a given climate in order to
interpolate timescales between climates, rather than modelling changes in CO2
over time directly.</p>
</dd>
<dt>outgassing<span class="classifier">float, optional</span></dt><dd><p>The assumed CO2 outgassing rate in units of Earth outgassing. Default is 1.0.</p>
</dd>
<dt>erosionsupplylimit<span class="classifier">float, optional</span></dt><dd><p>If set, the maximum CO2 weathering rate per year permitted by
erosion, in ubars/year. This is not simply a hard cutoff, but follows
Foley 2015 so high weathering below the cutoff is also reduced.</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p>See <a href="#id68"><span class="problematic" id="id13">[1]_</span></a> for details on the implementation of supply-limited weathering.</p>
<blockquote>
<div><dl>
<dt>Glaciology</dt><dd><dl>
<dt>glaciers<span class="classifier">dict, optional</span></dt><dd><p>A dictionary containing the following arguments:
toggle : bool</p>
<blockquote>
<div><p>True/False. Whether or not glaciers should be allowed to grow or shrink in thickness, or be formed from persistent snow on land.</p>
</div></blockquote>
<dl class="simple">
<dt>mindepth<span class="classifier">float</span></dt><dd><p>The minimum snow depth in meters of liquid water equivalent that must persist year-round before the grid cell is considered glaciated. Default is 2 meters.</p>
</dd>
<dt>initialh<span class="classifier">float</span></dt><dd><p>If &gt;=0, covers the land surface with ice sheets of a height given in meterss. If -1, no initial ice sheets are assumed.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>Storm Climatology</dt><dd><dl>
<dt>stormclim<span class="classifier">bool, optional</span></dt><dd><p>True/False. Toggles whether or not storm climatology (convective available
potential energy, maximum potential intensity, ventilation index, etc)
should be computed. If True, output fields related to storm climatology
will be added to standard output files. Enabling this mode currently roughly
doubles the computational cost of the model. This may improve in future
updates. Refer to Paradise, et al 2021 for implementation description.</p>
</dd>
<dt>stormcapture<span class="classifier">dict, optional</span></dt><dd><p>A dictionary containing arguments controlling when high-cadence output
is triggered by storm activity. This dictionary must contain ‘toggle’, which
can be either 1 or 0 (yes or no). It may also contain any namelist
parameters accepted by hurricanemod.f90, including the following:</p>
<dl class="simple">
<dt>toggle<span class="classifier">{0,1}</span></dt><dd><p>Whether (1) or not (0) to write high-cadence output when storms occur</p>
</dd>
<dt>NKTRIGGER<span class="classifier">{0,1}, optional</span></dt><dd><p>(0/1=no/yes). Whether or not to use the Komacek, et al 2020 conditions for hurricane cyclogenesis as the output trigger. Default is no.</p>
</dd>
<dt>VITHRESH<span class="classifier">float, optional</span></dt><dd><p>(nktrigger) Ventilation index threshold for nktrigger output. Default 0.145</p>
</dd>
<dt>VMXTHRESH<span class="classifier">float, optional</span></dt><dd><p>(nktrigger) Max potential intensity threshold for nktrigger output.Default 33 m/s</p>
</dd>
<dt>LAVTHRESH<span class="classifier">float, optional</span></dt><dd><p>(nktrigger) Lower-atmosphere vorticity threshold for nktrigger output. Default 1.2*10^-5 s^-1</p>
</dd>
<dt>VRMTHRESH<span class="classifier">float, optional</span></dt><dd><p>(unused) Ventilation-reduced maximum intensity threshold. Default 0.577</p>
</dd>
<dt>GPITHRESH<span class="classifier">float, optional</span></dt><dd><p>(default) Genesis Potential Index threshold. Default 0.37.</p>
</dd>
<dt>MINSURFTEMP<span class="classifier">float, optional</span></dt><dd><p>(default) Min. surface temperature for storm activity. Default 25C</p>
</dd>
<dt>MAXSURFTEMP<span class="classifier">float, optional</span></dt><dd><p>(default) Max. surface temperature for storm activity. Default 100C</p>
</dd>
<dt>WINDTHRESH<span class="classifier">float, optional</span></dt><dd><p>(default) Lower-atmosphere maximum wind threshold for storm activity.  Default 33 m/s</p>
</dd>
<dt>SWINDTHRESH<span class="classifier">float, optional</span></dt><dd><p>(default) Minimum surface windspeed for storm activity. Default 20.5 m/s</p>
</dd>
<dt>SIZETHRESH<span class="classifier">float, optional</span></dt><dd><p>(default) Minimum number of cells that must trigger to start outputDefault 30</p>
</dd>
<dt>ENDTHRESH<span class="classifier">float, optional</span></dt><dd><p>(default) Minimum number of cells at which point storm output ends.Default 16</p>
</dd>
<dt>MINSTORMLEN<span class="classifier">float, optional</span></dt><dd><p>(default) Minimum number of timesteps to write output. Default 256</p>
</dd>
<dt>MAXSTORMLEN<span class="classifier">float, optional</span></dt><dd><p>(default) Maximum number of timesteps to write output. Default 1024</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p>Note that actual number of writes will be stormlen/interval, as set in highcadence. This interval defaults to 4, so 64 writes minimum, 256 max. For more details on the storm climatology factors considered here, see <a href="#id69"><span class="problematic" id="id14">[5]_</span></a>.</p>
</div></blockquote>
<p class="rubric">Notes</p>
<p>In some cases, it may be necessary to include physics filters. This typically becomes
necessary when sharp features are projected on the model’s smallest spectral modes, causing
Gibbs “ripples”. Earth-like models typically do not require filtering, but tidally-locked
models do. Filtering may be beneficial for Earth-like models at very high resolutions as well,
or if there is sharp topography.</p>
<p>Three filter functional forms are included in ExoPlaSim: Cesaro, exponential, and Lander-Hoskins. Their functional forms are given below, where <cite>n</cite> is the wavenumber, and <cite>N</cite> is the
truncation wavenumber (e.g. 21 for T21):</p>
<p>Cesaro: <span class="math notranslate nohighlight">\(f(n)=1-\frac{n}{N+1}\)</span> <a href="#id70"><span class="problematic" id="id15">[2]_</span></a></p>
<p>Exponential: <span class="math notranslate nohighlight">\(f(n)=\exp\left[-\kappa\left(\frac{n}{N}\right)^\gamma\right]\)</span> <a href="#id71"><span class="problematic" id="id16">[3]_</span></a></p>
<p>Lander-Hoskins: <span class="math notranslate nohighlight">\(f(n)=\exp\left[-\left(\frac{n(n+1)}{n_0(n_0+1}\right)^2\right]\)</span> <a href="#id72"><span class="problematic" id="id17">[3]_</span></a> <a href="#id73"><span class="problematic" id="id18">[4]_</span></a></p>
<p><span class="math notranslate nohighlight">\(\kappa\)</span> is exposed to the user through <code class="docutils literal notranslate"><span class="pre">filterkappa</span></code>,
<span class="math notranslate nohighlight">\(\gamma\)</span> is exposed through <code class="docutils literal notranslate"><span class="pre">filterpower</span></code>, and <span class="math notranslate nohighlight">\(n_0\)</span> is
exposed through <code class="docutils literal notranslate"><span class="pre">filterLHN0</span></code>.</p>
<p>Physics filters can be applied at two different points; either at the transform from gridpoint
to spectral, or the reverse. We find that in most cases, the ideal usage is to use both.
Generally, a filter at the gridpoint-&gt;spectral transform is good for dealing with oscillations
caused by sharp jumps and small features in the gridpoint tendencies. Conversely, a filter
at the spectral-&gt;gridpoint transform is good for dealing with oscillations that come from
small-scale features in the spectral fields causing small-scale features to appear in the
gridpoint tendencies <a href="#id74"><span class="problematic" id="id19">[3]_</span></a>. Since we deal with climate systems where everything is coupled,
any oscillations not removed by one filter will be amplified through physical feedbacks if not
suppressed by the other filter.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#exoplasim.Model.modify" title="exoplasim.Model.modify"><code class="xref py py-obj docutils literal notranslate"><span class="pre">modify</span></code></a></dt><dd><p>Change model configuration after it has been initialized</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id20"><span class="brackets">1</span></dt>
<dd><p>Foley, B. J. (2015). The Role of Plate Tectonic-Climate Coupling and Exposed Land Area in the Development of Habitable Climates on Rocky Planets. The Astrophysical Journal, 812(1), 36. <a class="reference external" href="https://doi.org/10.1088/0004-637X/812/1/36">https://doi.org/10.1088/0004-637X/812/1/36</a></p>
</dd>
<dt class="label" id="id21"><span class="brackets">2</span></dt>
<dd><p>Navarra, A., Stern, W. F., &amp; Miyakoda, K. (1994). Reduction of the Gibbs Oscillation in Spectral Model Simulations. Journal of Climate, 7(8), 1169–1183. <a class="reference external" href="https://doi.org/10.1175/1520-0442(1994">https://doi.org/10.1175/1520-0442(1994</a>)007&lt;1169:ROTGOI&gt;2.0.CO;2</p>
</dd>
<dt class="label" id="id22"><span class="brackets">3</span></dt>
<dd><p>Lander, J., &amp; Hoskins, B. J. (1997). Believable Scales and Parameterizations in a Spectral Transform Model. Monthly Weather Review, 125(2), 292–303. <a class="reference external" href="https://doi.org/10.1175/1520-0493(1997">https://doi.org/10.1175/1520-0493(1997</a>)125&lt;0292:BSAPIA&gt;2.0.CO;2</p>
</dd>
<dt class="label" id="id23"><span class="brackets">4</span></dt>
<dd><p>Scinocca, J. F., McFarlane, N. A., Lazare, M., Li, J., &amp; Plummer, D. (2008). Technical Note: The CCCma third generation AGCM and its extension into the middle atmosphere. Atmospheric Chemistry and Physics, 8(23), 7055–7074. <a class="reference external" href="https://doi.org/10.5194/acp-8-7055-2008">https://doi.org/10.5194/acp-8-7055-2008</a></p>
</dd>
<dt class="label" id="id24"><span class="brackets">5</span></dt>
<dd><p>Komacek, T. D., Chavas, D. R., &amp; Abbot, D. S. (2020). Hurricane Genesis is Favorable on Terrestrial Exoplanets Orbiting Late-type M Dwarf Stars. The Astrophysical Journal, 898(2), 115. <a class="reference external" href="https://doi.org/10.3847/1538-4357/aba0b9">https://doi.org/10.3847/1538-4357/aba0b9</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="exoplasim.Model.exportcfg">
<code class="sig-name descname">exportcfg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim.html#Model.exportcfg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.Model.exportcfg" title="Permalink to this definition">¶</a></dt>
<dd><p>Export model configuration to a text file that can be used as configuration input</p>
<p>Write the current model configuration to a text file. This file can be shared and used by
other users to recreate your model configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em><em>, </em><em>optional</em>) – Path to the file that should be written. If None (default), &lt;modelname&gt;.cfg
will be created in the working directory.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#exoplasim.Model.loadconfig" title="exoplasim.Model.loadconfig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">loadconfig</span></code></a></dt><dd><p>Load a saved configuration.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt id="exoplasim.Model.finalize">
<code class="sig-name descname">finalize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">outputdir</span></em>, <em class="sig-param"><span class="n">allyears</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">keeprestarts</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">clean</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim.html#Model.finalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.Model.finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Move outputs and optionally restarts to a specified output directory.</p>
<p>If more than the final year of output is being kept, a folder will be created in the output directory using the model name. Otherwise, finalized files will be renamed using the model name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>outputdir</strong> (<em>str</em>) – Directory in which to put output.</p></li>
<li><p><strong>allyears</strong> (<em>bool</em><em>, </em><em>optional</em>) – True/False. If True, output from all years will be kept, in a directory in
outputdir named with the model name. Otherwise, the most recent year will be
kept in outputdir, using the model name. Default False.</p></li>
<li><p><strong>keeprestarts</strong> (<em>bool</em><em>, </em><em>optional</em>) – True/False: If True, restart files will be kept as well as output files.
Default False.</p></li>
<li><p><strong>clean</strong> (<em>bool</em><em>, </em><em>optional</em>) – True/False. If True, the original working directory will be deleted after files
are moved. Default True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="exoplasim.Model.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">year</span></em>, <em class="sig-param"><span class="n">snapshot</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">highcadence</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim.html#Model.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.Model.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an open NetCDF data object for the given year. Defaults is to return time-averaged output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> (<em>int</em>) – Integer year of output to return</p></li>
<li><p><strong>snapshot</strong> (<em>bool</em><em>, </em><em>optional</em>) – True/False. If True, return the snapshot version.</p></li>
<li><p><strong>highcadence</strong> (<em>bool</em><em>, </em><em>optional</em>) – True/False. If True, return the high-cadence version.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An open netCDF4 data opject</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>netCDF4.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="exoplasim.Model.getbalance">
<code class="sig-name descname">getbalance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">year</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim.html#Model.getbalance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.Model.getbalance" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the global annual mean of a given variable for a given year</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>) – The output variable string to return</p></li>
<li><p><strong>year</strong> (<em>int</em><em>, </em><em>optional</em>) – Which year to go to for output</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Global annual mean of requested quantity</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="exoplasim.Model.gethistory">
<code class="sig-name descname">gethistory</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="o">=</span><span class="default_value">'ts'</span></em>, <em class="sig-param"><span class="n">mean</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">layer</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim.html#Model.gethistory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.Model.gethistory" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the an array of global annual means of a given variable for each year</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em><em>, </em><em>optional</em>) – The output variable string to return</p></li>
<li><p><strong>mean</strong> (<em>bool</em><em>, </em><em>optional</em>) – Toggle whether we return the mean or the sum</p></li>
<li><p><strong>year</strong> (<em>int</em><em>, </em><em>optional</em>) – Which year to go to for output</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>1-D Array of global annual means</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="exoplasim.Model.inspect">
<code class="sig-name descname">inspect</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">variable</span></em>, <em class="sig-param"><span class="n">year</span><span class="o">=</span><span class="default_value">- 1</span></em>, <em class="sig-param"><span class="n">ignoreNaNs</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">snapshot</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">highcadence</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">savg</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">tavg</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">layer</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim.html#Model.inspect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.Model.inspect" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a given output variable from a given year, with optional averaging parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>variable</strong> (<em>str</em>) – The name of the variable to return.</p></li>
<li><p><strong>year</strong> (<em>int</em><em>, </em><em>optional</em>) – Which year of output to return. Year indexing follows Pythonic rules. If the model
has been finalized, only the final year of output will be returned.</p></li>
<li><p><strong>ignoreNaNs</strong> (<em>bool</em><em>, </em><em>optional</em>) – True/False. If True, use NaN-tolerant numpy functions.</p></li>
<li><p><strong>snapshot</strong> (<em>bool</em><em>, </em><em>optional</em>) – True/False. If True, use snapshot output instead of time-averaged.</p></li>
<li><p><strong>highcadence</strong> (<em>bool</em><em>, </em><em>optional</em>) – True/False. If True, use high-cadednce output instead of time-averaged.</p></li>
<li><p><strong>savg</strong> (<em>bool</em><em>, </em><em>optional</em>) – True/False. If True, compute the spatial average. Default False</p></li>
<li><p><strong>tavg</strong> (<em>bool</em><em>, </em><em>optional</em>) – True/False. If True, compute the annual average. Default False</p></li>
<li><p><strong>layer</strong> (<em>int</em><em>, </em><em>optional</em>) – If specified and data has 3 spatial dimensions, extract the specified layer. If
unspecified and data has 3 spatial dimensions, the vertical dimension will be
preserved (even if spatial averages are being computed).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The requested data, averaged if that was requested.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float or numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="exoplasim.Model.integritycheck">
<code class="sig-name descname">integritycheck</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ncfile</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim.html#Model.integritycheck"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.Model.integritycheck" title="Permalink to this definition">¶</a></dt>
<dd><p>Check an output file to see it contains the expected variables and isn’t full of NaNs.</p>
<p>If the file does not exist, exoplasim will attempt to create it using the postprocessor.
If the file does not have the expected variables or is full of trash, an exception will
be raised. If the file is fine, this function returns a 1. If the file did not exist and
cannot be created, this function will return a 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ncfile</strong> (<em>str</em>) – The output file to check.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>0 or 1 depending on failure or success respectively</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="exoplasim.Model.loadconfig">
<code class="sig-name descname">loadconfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">configfile</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim.html#Model.loadconfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.Model.loadconfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a previously-exported configuration file and configure the model accordingly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>configfile</strong> (<em>str</em>) – Path to the configuration file to load</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#exoplasim.Model.exportcfg" title="exoplasim.Model.exportcfg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">exportcfg</span></code></a></dt><dd><p>Export model configuration to a text file.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt id="exoplasim.Model.modify">
<code class="sig-name descname">modify</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim.html#Model.modify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.Model.modify" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify any already-configured parameters. All parameters accepted by configure() can be passed as arguments.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#exoplasim.Model.configure" title="exoplasim.Model.configure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">configure</span></code></a></dt><dd><p>Set model parameters and boundary conditions</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt id="exoplasim.Model.postprocess">
<code class="sig-name descname">postprocess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inputfile</span></em>, <em class="sig-param"><span class="n">namelist</span></em>, <em class="sig-param"><span class="n">log</span><span class="o">=</span><span class="default_value">'postprocess.log'</span></em>, <em class="sig-param"><span class="n">crashifbroken</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim.html#Model.postprocess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.Model.postprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce NetCDF output from an input file, using a specified postprocessing namelist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputfile</strong> (<em>str</em>) – The raw output file to be processed</p></li>
<li><p><strong>namelist</strong> (<em>str</em>) – The burn7 namelist to use</p></li>
<li><p><strong>log</strong> (<em>str</em><em>, </em><em>optional</em>) – The log file to which burn7 should output standard output and errors</p></li>
<li><p><strong>crashifbroken</strong> (<em>bool</em><em>, </em><em>optional</em>) – True/False. If True, exoplasim will run .integritycheck() on the file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>1 if successful, 0 if not</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="exoplasim.Model.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim.html#Model.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.Model.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the Model’s designated run routine.</p>
<p>This may have been passed as runscript when the model was
created, or it could be the model’s internal ._run() routine.
That method takes the following arguments:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>years</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of years to run</p></li>
<li><p><strong>postprocess</strong> (<em>bool</em><em>, </em><em>optional</em>) – True/False. Whether or not NetCDF files should be produced on-the-fly</p></li>
<li><p><strong>crashifbroken</strong> (<em>bool</em><em>, </em><em>optional</em>) – True/False. If True, use Pythonic error handling</p></li>
<li><p><strong>clean</strong> (<em>bool</em><em>, </em><em>optional</em>) – True/False. If True, delete raw output files once NetCDF files are made</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="exoplasim.Model.runtobalance">
<code class="sig-name descname">runtobalance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">threshold</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">baseline</span><span class="o">=</span><span class="default_value">50</span></em>, <em class="sig-param"><span class="n">maxyears</span><span class="o">=</span><span class="default_value">300</span></em>, <em class="sig-param"><span class="n">minyears</span><span class="o">=</span><span class="default_value">75</span></em>, <em class="sig-param"><span class="n">timelimit</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">crashifbroken</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">clean</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim.html#Model.runtobalance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.Model.runtobalance" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the model until energy balance equilibrium is reached at the top and surface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>threshold</strong> (<em>float</em><em>, </em><em>optional</em>) – If specified, overrides the threshold set by <code class="docutils literal notranslate"><span class="pre">.config()</span></code>. The model will run
until the energy balance at the top and surface drifts by less than this
amount per year over a given baseline.</p></li>
<li><p><strong>baseline</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of years over which to evaluate energy balance drift. Default 50</p></li>
<li><p><strong>maxyears</strong> (<em>int</em><em>, </em><em>optional</em>) – The maximum number of years to run before returning. Default 300. This is
useful if you are running on a scratch disk with limited space.</p></li>
<li><p><strong>minyears</strong> (<em>int</em><em>, </em><em>optional</em>) – The minimum number of years to run before determining that the model is in
equilibrium.</p></li>
<li><p><strong>timelimit</strong> (<em>float</em><em>, </em><em>optional</em>) – If set, maxyears will be revised each year based on the average minutes
per year thus far, to try to avoid going over the time limit, which should
be given in minutes.</p></li>
<li><p><strong>crashifbroken</strong> (<em>bool</em><em>, </em><em>optional</em>) – True/False. If True, Pythonic error handling is enabled. Default True.</p></li>
<li><p><strong>clean</strong> (<em>bool</em><em>, </em><em>optional</em>) – True/False. If True, raw output is deleted once postprocessed. Default True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the model reached equilibrium, False if not.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="exoplasim.Model.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim.html#Model.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.Model.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current Model object to a NumPy save file.</p>
<p>The model object can then be reinstantiated using <code class="docutils literal notranslate"><span class="pre">numpy.load(savefile).item()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em><em>, </em><em>optional</em>) – Filename to save to. If unspecified, will default to &lt;modelname&gt;.npy.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Note that these files are often not portable between versions of Python or machine architectures, so their use is only recommended internally. For sharing with other
users, it is recommended that you use the <code class="docutils literal notranslate"><span class="pre">.exportcfg()</span></code> function.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#exoplasim.Model.exportcfg" title="exoplasim.Model.exportcfg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">exportcfg</span></code></a></dt><dd><p>Export model configuration to a portable text file.</p>
</dd>
</dl>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="exoplasim.TLaquaplanet">
<em class="property">class </em><code class="sig-prename descclassname">exoplasim.</code><code class="sig-name descname">TLaquaplanet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">resolution</span><span class="o">=</span><span class="default_value">'T21'</span></em>, <em class="sig-param"><span class="n">layers</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">ncpus</span><span class="o">=</span><span class="default_value">4</span></em>, <em class="sig-param"><span class="n">precision</span><span class="o">=</span><span class="default_value">8</span></em>, <em class="sig-param"><span class="n">debug</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">inityear</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">recompile</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">optimization</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mars</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">workdir</span><span class="o">=</span><span class="default_value">'most'</span></em>, <em class="sig-param"><span class="n">source</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">modelname</span><span class="o">=</span><span class="default_value">'MOST_EXP'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim.html#TLaquaplanet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.TLaquaplanet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#exoplasim.Model" title="exoplasim.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">exoplasim.Model</span></code></a></p>
<p>Create a tidally-locked planet with no land.</p>
<p>Identical to Model, except configuration options suitable for
tidally-locked models are the default when configure() is called,
and the surface is entirely ocean-covered. Specifically, a 30-minute
timestep, snapshot outputs every 720 timesteps, eccentricity=0.0,
0-degree obliquity, exponential physics filtering, fixed orbital
parameters, and no ozone. All these defaults can be overridden.</p>
<dl class="py method">
<dt id="exoplasim.TLaquaplanet.configure">
<code class="sig-name descname">configure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timestep</span><span class="o">=</span><span class="default_value">30.0</span></em>, <em class="sig-param"><span class="n">snapshots</span><span class="o">=</span><span class="default_value">720</span></em>, <em class="sig-param"><span class="n">eccentricity</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">ozone</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">obliquity</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">physicsfilter</span><span class="o">=</span><span class="default_value">'gp|exp|sp'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim.html#TLaquaplanet.configure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.TLaquaplanet.configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the model’s namelists and boundary conditions.</p>
<blockquote>
<div><blockquote>
<div><p>The defaults here are appropriate for an Earth model.</p>
</div></blockquote>
<p><strong>Model Operation</strong></p>
<blockquote>
<div><dl>
<dt>noutput<span class="classifier">bool, optional</span></dt><dd><p>True/False. Whether or not model output should be written.
restartfile: Path to a restart file to use for initial conditions. Can be None.</p>
</dd>
<dt>writefrequency<span class="classifier">int, optional</span></dt><dd><p>How many times per day ExoPlaSim should write output. Ignored by
default–default is to write time-averaged output once every 5 days.</p>
</dd>
<dt>timestep<span class="classifier">float, optional</span></dt><dd><p>Model timestep. Defaults to 45 minutes.</p>
</dd>
<dt>runscript<span class="classifier">function , optional</span></dt><dd><p>A Python function that accepts a Model object as its first argument. This
is the routine that will be run when you issue the Model.run() command.
Any keyword arguments passed to run() will be forwarded to the specified
function. If not set, the default internal routine will be used.</p>
</dd>
<dt>snapshots<span class="classifier">int, optional</span></dt><dd><p>How many timesteps should elapse between snapshot outputs. If not set,
no snapshots will be written.</p>
</dd>
<dt>highcadence<span class="classifier">dict, optional</span></dt><dd><p>A dictionary containing the following arguments:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">'toggle'</span></code><span class="classifier">{0,1}</span></dt><dd><p>Whether or not high-cadence output should be written (1=yes).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'start'</span></code><span class="classifier">int</span></dt><dd><p>Timestep at which high-cadence output should begin.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'end'</span></code><span class="classifier">int</span></dt><dd><p>Timestep at which high-cadence output should end.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'interval'</span></code><span class="classifier">int</span></dt><dd><p>How many timesteps should elapse between high-cadence outputs.</p>
</dd>
</dl>
</div></blockquote>
</dd>
<dt>threshold<span class="classifier">float, optional</span></dt><dd><p>Energy balance threshold model should run to, if using runtobalance().
Default is &lt;0.05 W/m^2/yr average drift in TOA and surface energy balance
over 45-year timescales.</p>
</dd>
<dt>resources<span class="classifier">list, optional</span></dt><dd><p>A list of paths to any additional files that should be available in the
run directory.</p>
</dd>
<dt>otherargs<span class="classifier">dict, optional</span></dt><dd><p>Any namelist parameters not included by default in the configuration options.
These should be passed as a dictionary, with “<a class="reference external" href="mailto:PARAMETER&#37;&#52;&#48;namelist">PARAMETER<span>&#64;</span>namelist</a>” as the
form of the dictionary key, and the parameter value passed as a string.
e.g. <code class="docutils literal notranslate"><span class="pre">otherargs={&quot;N_RUN_MONTHS&#64;plasim_namelist&quot;:'4',&quot;NGUI&#64;plasim_namelist:'1'}</span></code></p>
</dd>
</dl>
</div></blockquote>
<p><strong>Model Dynamics</strong></p>
<blockquote>
<div><dl class="simple">
<dt>columnmode<span class="classifier">{None,”-“,”clear”,”static”,”static|clear”,”clear|static”}, optional</span></dt><dd><p>The inclusion of ‘static’ will disable horizontal advection, forcing ExoPlaSim
into a column-only mode of operation. The inclusion of ‘clear’ will disable
the radiative effects of clouds.</p>
</dd>
<dt>drycore<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, evaporation is turned off, and a dry atmosphere will
be used.</p>
</dd>
<dt>physicsfilter<span class="classifier">str, optional</span></dt><dd><p>If not an empty string, specifies the physics filter(s) to be used. Filters
can be used during the transform from gridpoint to spectral (<code class="docutils literal notranslate"><span class="pre">&quot;gp&quot;</span></code>), and/or
during the transform from spectral to gridpoint (<code class="docutils literal notranslate"><span class="pre">&quot;sp&quot;</span></code>). Filter types are
“none”, “cesaro”, “exp”, or “lh” (see the Notes for more details).
Combinations of filter types and times should be combined with a <code class="docutils literal notranslate"><span class="pre">|</span></code>,
e.g. <code class="docutils literal notranslate"><span class="pre">physicsfilter=&quot;gp|exp|sp&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">physicsfilter=&quot;gp|cesaro&quot;</span></code>.</p>
</dd>
<dt>filterkappa<span class="classifier">float, optional</span></dt><dd><p>A constant to be used with the exponential filter. Default is 8.0.</p>
</dd>
<dt>filterpower<span class="classifier">int, optional</span></dt><dd><p>A constant integer to be used with the exponential filter. Default is 8.</p>
</dd>
<dt>filterLHN0<span class="classifier">float, optional</span></dt><dd><p>The constant used in the denominator of the Lander-Hoskins Filter. Default
is 15; typically chosen so f(N)=0.1.</p>
</dd>
<dt>diffusionwaven<span class="classifier">int, optional</span></dt><dd><p>The critical wavenumber beyond which hyperdiffusion is applied. Default
is 15 for T21.</p>
</dd>
<dt>qdiffusion<span class="classifier">float, optional</span></dt><dd><p>Timescale for humidity hyperdiffusion in days. Default for T21 is 0.1.</p>
</dd>
<dt>tdiffusion<span class="classifier">float, optional</span></dt><dd><p>Timescale for temperature hyperdiffusion in days. Default for T21 is 5.6.</p>
</dd>
<dt>zdiffusion<span class="classifier">float, optional</span></dt><dd><p>Timescale for vorticity hyperdiffusion in days. Default for T21 is 1.1.</p>
</dd>
<dt>ddiffusion<span class="classifier">float, optional</span></dt><dd><p>Timescale for divergence hyperdiffusion in days.. Default for T21 is 0.2.</p>
</dd>
<dt>diffusionpower<span class="classifier">int, optional</span></dt><dd><p>integer exponent used in hyperdiffusion. Default is 2 for T21.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Radiation</strong></p>
<blockquote>
<div><dl class="simple">
<dt>flux<span class="classifier">float, optional</span></dt><dd><p>Incident stellar flux in W/m^2. Default 1367 for Earth.</p>
</dd>
<dt>startemp<span class="classifier">float, optional</span></dt><dd><p>Effective blackbody temperature for the star. Not used if not set.</p>
</dd>
<dt>starspec<span class="classifier">str, optional</span></dt><dd><p>Spectral file for the stellar spectrum. Should have two columns and 965 rows,
with wavelength in the first column and radiance or intensity in the second.
A similarly-named file with the “_hr.dat” suffix must also exist and have
2048 wavelengths.</p>
</dd>
<dt>twobandalbedo<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, separate albedos will be calculated for each of the
two shortwave bands. If False (default), a single broadband albedo will be
computed and used for both.</p>
</dd>
<dt>synchronous<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, the Sun is fixed to one longitude in the sky.</p>
</dd>
<dt>substellarlon<span class="classifier">float, optional</span></dt><dd><p>The longitude of the substellar point, if synchronous==True. Default 180°</p>
</dd>
<dt>pressurebroaden<span class="classifier">bool, optional</span></dt><dd><p>True/False. If False, pressure-broadening of absorbers no longer depends
on surface pressure. Default is True</p>
</dd>
<dt>ozone<span class="classifier">bool, optional</span></dt><dd><p>True/False. Whether or not forcing from stratospheric ozone should be included.</p>
</dd>
<dt>snowicealbedo<span class="classifier">float, optional</span></dt><dd><p>A uniform albedo to use for all snow and ice.</p>
</dd>
<dt>soilalbedo<span class="classifier">float, optional</span></dt><dd><p>A uniform albedo to use for all land.</p>
</dd>
<dt>wetsoil<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, land albedo depends on soil moisture (wet=darker).</p>
</dd>
<dt>oceanalbedo<span class="classifier">float, optional</span></dt><dd><p>A uniform albedo to use for the ocean.</p>
</dd>
<dt>oceanzenith<span class="classifier">{“ECHAM-3”,”ECHAM-6”,”Lambertian}, optional</span></dt><dd><p>The zenith-angle dependence to use for blue-light reflectance from the ocean.
Can be <code class="docutils literal notranslate"><span class="pre">'Lambertian'</span></code>/<code class="docutils literal notranslate"><span class="pre">'uniform'</span></code>, <code class="docutils literal notranslate"><span class="pre">'ECHAM-3'</span></code>/<code class="docutils literal notranslate"><span class="pre">'plasim'</span></code>/<code class="docutils literal notranslate"><span class="pre">'default'</span></code>, or <code class="docutils literal notranslate"><span class="pre">'ECHAM-6'</span></code>.
The default is <code class="docutils literal notranslate"><span class="pre">'ECHAM-3'</span></code> (synonymous with <code class="docutils literal notranslate"><span class="pre">'plasim'</span></code> and <code class="docutils literal notranslate"><span class="pre">'default'</span></code>), which is
the dependence used in the ECHAM-3 model.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Orbital Parameters</strong></p>
<blockquote>
<div><dl class="simple">
<dt>year<span class="classifier">float, optional</span></dt><dd><p>Number of 24-hour days in a sidereal year. Not necessary if eccentricity and
obliquity are zero. Defaults if not set to ~365.25 days</p>
</dd>
<dt>rotationperiod<span class="classifier">float, optional</span></dt><dd><p>Planetary rotation period, in days. Default is 1.0.</p>
</dd>
<dt>eccentricity<span class="classifier">float, optional</span></dt><dd><p>Orbital eccentricity. If not set, defaults to Earth’s (0.016715)</p>
</dd>
<dt>obliquity<span class="classifier">float, optional</span></dt><dd><p>Axial tilt, in degrees. If not set, defaults to Earth’s obliquity (23.441°).</p>
</dd>
<dt>lonvernaleq<span class="classifier">float, optional</span></dt><dd><p>Longitude of periapse, measured from vernal equinox, in degrees. If
not set, defaults to Earth’s (102.7°).</p>
</dd>
<dt>fixedorbit<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, orbital parameters do not vary over time. If False,
variations such as Milankovich cycles will be computed by PlaSim.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Planet Parameters</strong></p>
<blockquote>
<div><dl class="simple">
<dt>gravity<span class="classifier">float, optional</span></dt><dd><p>Surface gravity, in m/s^2. Defaults to 9.80665 m/s^2.</p>
</dd>
<dt>radius<span class="classifier">float, optional</span></dt><dd><p>Planet radius in Earth radii. Default is 1.0.</p>
</dd>
<dt>orography<span class="classifier">float, optional</span></dt><dd><p>If set, a scaling factor for topographic relief. If <code class="docutils literal notranslate"><span class="pre">orography=0.0</span></code>, topography
will be zeroed-out.</p>
</dd>
<dt>aquaplanet<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, the surface will be entirely ocean-covered.</p>
</dd>
<dt>desertplanet<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, the surface will be entirely land-covered.</p>
</dd>
<dt>seaice<span class="classifier">bool, optional</span></dt><dd><p>True/False. If False, disables radiative effects of sea ice (although sea ice
itself is still computed).</p>
</dd>
<dt>landmap<span class="classifier">str, optional</span></dt><dd><p>Path to a <code class="docutils literal notranslate"><span class="pre">.sra</span></code> file containing a land mask for the chosen resolution.</p>
</dd>
<dt>topomap<span class="classifier">str, optional</span></dt><dd><p>Path to a <code class="docutils literal notranslate"><span class="pre">.sra</span></code> file containing geopotential height map. Must include landmap.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Atmosphere</strong></p>
<blockquote>
<div><dl class="simple">
<dt>gascon<span class="classifier">float, optional</span></dt><dd><p>Effective gas constant. Defaults to 287.0 (Earth), or the gas constant
corresponding to the composition specified by partial pressures.</p>
</dd>
<dt>vtype<span class="classifier">{0,1,2,3,4,5}, optional</span></dt><dd><p>Type of vertical discretization. Can be:
0   Pseudolinear scaling with pressure that maintains resolution near the ground.
1   Linear scaling with pressure.
2   Logarithmic scaling with pressure (resolves high altitudes)
3   Pseudologarithmic scaling with pressure that preserves resolution near the ground.
4   Pseudolinear scaling with pressure, pinned to a specified top pressure.
5   If &gt;10 layers, bottom 10 as if <code class="docutils literal notranslate"><span class="pre">vtype=4</span></code>, and upper layers as if <code class="docutils literal notranslate"><span class="pre">vtype=2</span></code>.</p>
</dd>
<dt>modeltop<span class="classifier">float, optional</span></dt><dd><p>Pressure of the top layer</p>
</dd>
<dt>tropopause<span class="classifier">float, optional</span></dt><dd><p>If stratosphere is being included, pressure of the 10th layer (where scheme
switches from linear to logarithmic).</p>
</dd>
<dt>stratosphere<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, vtype=5 is used, and model is discretized to include
a stratosphere.</p>
</dd>
<dt>pressure: float, optional</dt><dd><p>Surface pressure in bars, if not specified through partial pressures.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Gas Partial Pressures</strong></p>
<p>Partial pressures of individual gases can be specified. If pressure and gascon are not explicitly set, these will determine surface pressure, mean molecular weight, and effective gas constant. Note however that Rayleigh scattering assumes an Earth-like composition, and the only absorbers explicitly included in the radiation scheme are CO2 and H2O.</p>
<blockquote>
<div><dl class="simple">
<dt>pH2<span class="classifier">float, optional</span></dt><dd><p>H2 partial pressure in bars.</p>
</dd>
<dt>pHe<span class="classifier">float, optional</span></dt><dd><p>He partial pressure in bars.</p>
</dd>
<dt>pN2<span class="classifier">float, optional</span></dt><dd><p>N2 partial pressure in bars.</p>
</dd>
<dt>pO2<span class="classifier">float, optional</span></dt><dd><p>O2 partial pressure in bars.</p>
</dd>
<dt>pH2<span class="classifier">float, optional</span></dt><dd><p>H2 partial pressure in bars.</p>
</dd>
<dt>pAr<span class="classifier">float, optional</span></dt><dd><p>Ar partial pressure in bars.</p>
</dd>
<dt>pNe<span class="classifier">float, optional</span></dt><dd><p>Ne partial pressure in bars.</p>
</dd>
<dt>pKr<span class="classifier">float, optional</span></dt><dd><p>Kr partial pressure in bars.</p>
</dd>
<dt>pCO2<span class="classifier">float, optional</span></dt><dd><p>CO2 partial pressure in bars. This gets translated into a ppmv concentration, so if you want to specify/vary CO2 but don’t need the other gases, specifying pCO2, pressure, and gascon will do the trick. In most use cases, however, just specifying pN2 and pCO2 will give good enough behavior.</p>
</dd>
<dt>pH2O<span class="classifier">float, optional</span></dt><dd><p>H2O partial pressure in bars. This is only useful in setting the gas constant and surface pressure; it will have no effect on actual moist processes.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Surface Parameters</strong></p>
<blockquote>
<div><dl class="simple">
<dt>mldepth<span class="classifier">float, optional</span></dt><dd><p>Depth of the mixed-layer ocean. Default is 50 meters.</p>
</dd>
<dt>soildepth<span class="classifier">float, optional</span></dt><dd><p>Scaling factor for the depth of soil layers (default total of 12.4 meters)</p>
</dd>
<dt>cpsoil<span class="classifier">float, optional</span></dt><dd><p>Heat capacity of the soil, in J/m^3/K. Default is 2.4*10^6.</p>
</dd>
<dt>soilwatercap<span class="classifier">float, optional</span></dt><dd><p>Water capacity of the soil, in meters. Defaults to 0.5 meters</p>
</dd>
<dt>soilsaturation<span class="classifier">float, optional</span></dt><dd><p>Initial fractional saturation of the soil. Default is 0.0 (dry).</p>
</dd>
<dt>maxsnow<span class="classifier">float, optional</span></dt><dd><p>Maximum snow depth (Default is 5 meters; set to -1 to have no limit).</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Additional Physics</strong></p>
<blockquote>
<div><dl class="simple">
<dt>Carbon-Silicate Weathering</dt><dd><dl class="simple">
<dt>co2weathering<span class="classifier">bool, optional</span></dt><dd><p>True/False. Toggles whether or not carbon-silicate weathering should be
computed. Default is False.</p>
</dd>
<dt>evolveco2<span class="classifier">bool, optional</span></dt><dd><p>True/False. If co2weathering==True, toggles whether or not the CO2 partial
pressure should be updated every year. Usually the change in pCO2 will be
extremely small, so this is not necessary, and weathering experiments try
to estimate the average weathering rate for a given climate in order to
interpolate timescales between climates, rather than modelling changes in CO2
over time directly.</p>
</dd>
<dt>outgassing<span class="classifier">float, optional</span></dt><dd><p>The assumed CO2 outgassing rate in units of Earth outgassing. Default is 1.0.</p>
</dd>
<dt>erosionsupplylimit<span class="classifier">float, optional</span></dt><dd><p>If set, the maximum CO2 weathering rate per year permitted by
erosion, in ubars/year. This is not simply a hard cutoff, but follows
Foley 2015 so high weathering below the cutoff is also reduced.</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p>See <a href="#id75"><span class="problematic" id="id25">[1]_</span></a> for details on the implementation of supply-limited weathering.</p>
<blockquote>
<div><dl>
<dt>Glaciology</dt><dd><dl>
<dt>glaciers<span class="classifier">dict, optional</span></dt><dd><p>A dictionary containing the following arguments:
toggle : bool</p>
<blockquote>
<div><p>True/False. Whether or not glaciers should be allowed to grow or shrink in thickness, or be formed from persistent snow on land.</p>
</div></blockquote>
<dl class="simple">
<dt>mindepth<span class="classifier">float</span></dt><dd><p>The minimum snow depth in meters of liquid water equivalent that must persist year-round before the grid cell is considered glaciated. Default is 2 meters.</p>
</dd>
<dt>initialh<span class="classifier">float</span></dt><dd><p>If &gt;=0, covers the land surface with ice sheets of a height given in meterss. If -1, no initial ice sheets are assumed.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>Storm Climatology</dt><dd><dl>
<dt>stormclim<span class="classifier">bool, optional</span></dt><dd><p>True/False. Toggles whether or not storm climatology (convective available
potential energy, maximum potential intensity, ventilation index, etc)
should be computed. If True, output fields related to storm climatology
will be added to standard output files. Enabling this mode currently roughly
doubles the computational cost of the model. This may improve in future
updates. Refer to Paradise, et al 2021 for implementation description.</p>
</dd>
<dt>stormcapture<span class="classifier">dict, optional</span></dt><dd><p>A dictionary containing arguments controlling when high-cadence output
is triggered by storm activity. This dictionary must contain ‘toggle’, which
can be either 1 or 0 (yes or no). It may also contain any namelist
parameters accepted by hurricanemod.f90, including the following:</p>
<dl class="simple">
<dt>toggle<span class="classifier">{0,1}</span></dt><dd><p>Whether (1) or not (0) to write high-cadence output when storms occur</p>
</dd>
<dt>NKTRIGGER<span class="classifier">{0,1}, optional</span></dt><dd><p>(0/1=no/yes). Whether or not to use the Komacek, et al 2020 conditions for hurricane cyclogenesis as the output trigger. Default is no.</p>
</dd>
<dt>VITHRESH<span class="classifier">float, optional</span></dt><dd><p>(nktrigger) Ventilation index threshold for nktrigger output. Default 0.145</p>
</dd>
<dt>VMXTHRESH<span class="classifier">float, optional</span></dt><dd><p>(nktrigger) Max potential intensity threshold for nktrigger output.Default 33 m/s</p>
</dd>
<dt>LAVTHRESH<span class="classifier">float, optional</span></dt><dd><p>(nktrigger) Lower-atmosphere vorticity threshold for nktrigger output. Default 1.2*10^-5 s^-1</p>
</dd>
<dt>VRMTHRESH<span class="classifier">float, optional</span></dt><dd><p>(unused) Ventilation-reduced maximum intensity threshold. Default 0.577</p>
</dd>
<dt>GPITHRESH<span class="classifier">float, optional</span></dt><dd><p>(default) Genesis Potential Index threshold. Default 0.37.</p>
</dd>
<dt>MINSURFTEMP<span class="classifier">float, optional</span></dt><dd><p>(default) Min. surface temperature for storm activity. Default 25C</p>
</dd>
<dt>MAXSURFTEMP<span class="classifier">float, optional</span></dt><dd><p>(default) Max. surface temperature for storm activity. Default 100C</p>
</dd>
<dt>WINDTHRESH<span class="classifier">float, optional</span></dt><dd><p>(default) Lower-atmosphere maximum wind threshold for storm activity.  Default 33 m/s</p>
</dd>
<dt>SWINDTHRESH<span class="classifier">float, optional</span></dt><dd><p>(default) Minimum surface windspeed for storm activity. Default 20.5 m/s</p>
</dd>
<dt>SIZETHRESH<span class="classifier">float, optional</span></dt><dd><p>(default) Minimum number of cells that must trigger to start outputDefault 30</p>
</dd>
<dt>ENDTHRESH<span class="classifier">float, optional</span></dt><dd><p>(default) Minimum number of cells at which point storm output ends.Default 16</p>
</dd>
<dt>MINSTORMLEN<span class="classifier">float, optional</span></dt><dd><p>(default) Minimum number of timesteps to write output. Default 256</p>
</dd>
<dt>MAXSTORMLEN<span class="classifier">float, optional</span></dt><dd><p>(default) Maximum number of timesteps to write output. Default 1024</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p>Note that actual number of writes will be stormlen/interval, as set in highcadence. This interval defaults to 4, so 64 writes minimum, 256 max. For more details on the storm climatology factors considered here, see <a href="#id76"><span class="problematic" id="id26">[5]_</span></a>.</p>
</div></blockquote>
<p class="rubric">Notes</p>
<p>In some cases, it may be necessary to include physics filters. This typically becomes
necessary when sharp features are projected on the model’s smallest spectral modes, causing
Gibbs “ripples”. Earth-like models typically do not require filtering, but tidally-locked
models do. Filtering may be beneficial for Earth-like models at very high resolutions as well,
or if there is sharp topography.</p>
<p>Three filter functional forms are included in ExoPlaSim: Cesaro, exponential, and Lander-Hoskins. Their functional forms are given below, where <cite>n</cite> is the wavenumber, and <cite>N</cite> is the
truncation wavenumber (e.g. 21 for T21):</p>
<p>Cesaro: <span class="math notranslate nohighlight">\(f(n)=1-\frac{n}{N+1}\)</span> <a href="#id77"><span class="problematic" id="id27">[2]_</span></a></p>
<p>Exponential: <span class="math notranslate nohighlight">\(f(n)=\exp\left[-\kappa\left(\frac{n}{N}\right)^\gamma\right]\)</span> <a href="#id78"><span class="problematic" id="id28">[3]_</span></a></p>
<p>Lander-Hoskins: <span class="math notranslate nohighlight">\(f(n)=\exp\left[-\left(\frac{n(n+1)}{n_0(n_0+1}\right)^2\right]\)</span> <a href="#id79"><span class="problematic" id="id29">[3]_</span></a> <a href="#id80"><span class="problematic" id="id30">[4]_</span></a></p>
<p><span class="math notranslate nohighlight">\(\kappa\)</span> is exposed to the user through <code class="docutils literal notranslate"><span class="pre">filterkappa</span></code>,
<span class="math notranslate nohighlight">\(\gamma\)</span> is exposed through <code class="docutils literal notranslate"><span class="pre">filterpower</span></code>, and <span class="math notranslate nohighlight">\(n_0\)</span> is
exposed through <code class="docutils literal notranslate"><span class="pre">filterLHN0</span></code>.</p>
<p>Physics filters can be applied at two different points; either at the transform from gridpoint
to spectral, or the reverse. We find that in most cases, the ideal usage is to use both.
Generally, a filter at the gridpoint-&gt;spectral transform is good for dealing with oscillations
caused by sharp jumps and small features in the gridpoint tendencies. Conversely, a filter
at the spectral-&gt;gridpoint transform is good for dealing with oscillations that come from
small-scale features in the spectral fields causing small-scale features to appear in the
gridpoint tendencies <a href="#id81"><span class="problematic" id="id31">[3]_</span></a>. Since we deal with climate systems where everything is coupled,
any oscillations not removed by one filter will be amplified through physical feedbacks if not
suppressed by the other filter.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">modify</span></code></dt><dd><p>Change model configuration after it has been initialized</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id32"><span class="brackets">1</span></dt>
<dd><p>Foley, B. J. (2015). The Role of Plate Tectonic-Climate Coupling and Exposed Land Area in the Development of Habitable Climates on Rocky Planets. The Astrophysical Journal, 812(1), 36. <a class="reference external" href="https://doi.org/10.1088/0004-637X/812/1/36">https://doi.org/10.1088/0004-637X/812/1/36</a></p>
</dd>
<dt class="label" id="id33"><span class="brackets">2</span></dt>
<dd><p>Navarra, A., Stern, W. F., &amp; Miyakoda, K. (1994). Reduction of the Gibbs Oscillation in Spectral Model Simulations. Journal of Climate, 7(8), 1169–1183. <a class="reference external" href="https://doi.org/10.1175/1520-0442(1994">https://doi.org/10.1175/1520-0442(1994</a>)007&lt;1169:ROTGOI&gt;2.0.CO;2</p>
</dd>
<dt class="label" id="id34"><span class="brackets">3</span></dt>
<dd><p>Lander, J., &amp; Hoskins, B. J. (1997). Believable Scales and Parameterizations in a Spectral Transform Model. Monthly Weather Review, 125(2), 292–303. <a class="reference external" href="https://doi.org/10.1175/1520-0493(1997">https://doi.org/10.1175/1520-0493(1997</a>)125&lt;0292:BSAPIA&gt;2.0.CO;2</p>
</dd>
<dt class="label" id="id35"><span class="brackets">4</span></dt>
<dd><p>Scinocca, J. F., McFarlane, N. A., Lazare, M., Li, J., &amp; Plummer, D. (2008). Technical Note: The CCCma third generation AGCM and its extension into the middle atmosphere. Atmospheric Chemistry and Physics, 8(23), 7055–7074. <a class="reference external" href="https://doi.org/10.5194/acp-8-7055-2008">https://doi.org/10.5194/acp-8-7055-2008</a></p>
</dd>
<dt class="label" id="id36"><span class="brackets">5</span></dt>
<dd><p>Komacek, T. D., Chavas, D. R., &amp; Abbot, D. S. (2020). Hurricane Genesis is Favorable on Terrestrial Exoplanets Orbiting Late-type M Dwarf Stars. The Astrophysical Journal, 898(2), 115. <a class="reference external" href="https://doi.org/10.3847/1538-4357/aba0b9">https://doi.org/10.3847/1538-4357/aba0b9</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="exoplasim.TLlandplanet">
<em class="property">class </em><code class="sig-prename descclassname">exoplasim.</code><code class="sig-name descname">TLlandplanet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">resolution</span><span class="o">=</span><span class="default_value">'T21'</span></em>, <em class="sig-param"><span class="n">layers</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">ncpus</span><span class="o">=</span><span class="default_value">4</span></em>, <em class="sig-param"><span class="n">precision</span><span class="o">=</span><span class="default_value">8</span></em>, <em class="sig-param"><span class="n">debug</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">inityear</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">recompile</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">optimization</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mars</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">workdir</span><span class="o">=</span><span class="default_value">'most'</span></em>, <em class="sig-param"><span class="n">source</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">modelname</span><span class="o">=</span><span class="default_value">'MOST_EXP'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim.html#TLlandplanet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.TLlandplanet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#exoplasim.Model" title="exoplasim.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">exoplasim.Model</span></code></a></p>
<p>Create a tidally-locked model with no oceans.</p>
<p>Identical to Model, except configuration options suitable for
tidally-locked models are the default when configure() is called,
and the surface is entirely land-covered. Specifically, a 30-minute
timestep, snapshot outputs every 720 timesteps, eccentricity=0.0,
0-degree obliquity, exponential physics filtering, fixed orbital
parameters, and no ozone. All these defaults can be overridden.</p>
<p class="rubric">Notes</p>
<p>The default is to include zero soil water initially. This will result in a completely dry
model. Set soilsaturation to something nonzero if you want groundwater.</p>
<dl class="py method">
<dt id="exoplasim.TLlandplanet.configure">
<code class="sig-name descname">configure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timestep</span><span class="o">=</span><span class="default_value">30.0</span></em>, <em class="sig-param"><span class="n">snapshots</span><span class="o">=</span><span class="default_value">720</span></em>, <em class="sig-param"><span class="n">eccentricity</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">ozone</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">obliquity</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">physicsfilter</span><span class="o">=</span><span class="default_value">'gp|exp|sp'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim.html#TLlandplanet.configure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.TLlandplanet.configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the model’s namelists and boundary conditions.</p>
<blockquote>
<div><blockquote>
<div><p>The defaults here are appropriate for an Earth model.</p>
</div></blockquote>
<p><strong>Model Operation</strong></p>
<blockquote>
<div><dl>
<dt>noutput<span class="classifier">bool, optional</span></dt><dd><p>True/False. Whether or not model output should be written.
restartfile: Path to a restart file to use for initial conditions. Can be None.</p>
</dd>
<dt>writefrequency<span class="classifier">int, optional</span></dt><dd><p>How many times per day ExoPlaSim should write output. Ignored by
default–default is to write time-averaged output once every 5 days.</p>
</dd>
<dt>timestep<span class="classifier">float, optional</span></dt><dd><p>Model timestep. Defaults to 45 minutes.</p>
</dd>
<dt>runscript<span class="classifier">function , optional</span></dt><dd><p>A Python function that accepts a Model object as its first argument. This
is the routine that will be run when you issue the Model.run() command.
Any keyword arguments passed to run() will be forwarded to the specified
function. If not set, the default internal routine will be used.</p>
</dd>
<dt>snapshots<span class="classifier">int, optional</span></dt><dd><p>How many timesteps should elapse between snapshot outputs. If not set,
no snapshots will be written.</p>
</dd>
<dt>highcadence<span class="classifier">dict, optional</span></dt><dd><p>A dictionary containing the following arguments:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">'toggle'</span></code><span class="classifier">{0,1}</span></dt><dd><p>Whether or not high-cadence output should be written (1=yes).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'start'</span></code><span class="classifier">int</span></dt><dd><p>Timestep at which high-cadence output should begin.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'end'</span></code><span class="classifier">int</span></dt><dd><p>Timestep at which high-cadence output should end.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'interval'</span></code><span class="classifier">int</span></dt><dd><p>How many timesteps should elapse between high-cadence outputs.</p>
</dd>
</dl>
</div></blockquote>
</dd>
<dt>threshold<span class="classifier">float, optional</span></dt><dd><p>Energy balance threshold model should run to, if using runtobalance().
Default is &lt;0.05 W/m^2/yr average drift in TOA and surface energy balance
over 45-year timescales.</p>
</dd>
<dt>resources<span class="classifier">list, optional</span></dt><dd><p>A list of paths to any additional files that should be available in the
run directory.</p>
</dd>
<dt>otherargs<span class="classifier">dict, optional</span></dt><dd><p>Any namelist parameters not included by default in the configuration options.
These should be passed as a dictionary, with “<a class="reference external" href="mailto:PARAMETER&#37;&#52;&#48;namelist">PARAMETER<span>&#64;</span>namelist</a>” as the
form of the dictionary key, and the parameter value passed as a string.
e.g. <code class="docutils literal notranslate"><span class="pre">otherargs={&quot;N_RUN_MONTHS&#64;plasim_namelist&quot;:'4',&quot;NGUI&#64;plasim_namelist:'1'}</span></code></p>
</dd>
</dl>
</div></blockquote>
<p><strong>Model Dynamics</strong></p>
<blockquote>
<div><dl class="simple">
<dt>columnmode<span class="classifier">{None,”-“,”clear”,”static”,”static|clear”,”clear|static”}, optional</span></dt><dd><p>The inclusion of ‘static’ will disable horizontal advection, forcing ExoPlaSim
into a column-only mode of operation. The inclusion of ‘clear’ will disable
the radiative effects of clouds.</p>
</dd>
<dt>drycore<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, evaporation is turned off, and a dry atmosphere will
be used.</p>
</dd>
<dt>physicsfilter<span class="classifier">str, optional</span></dt><dd><p>If not an empty string, specifies the physics filter(s) to be used. Filters
can be used during the transform from gridpoint to spectral (<code class="docutils literal notranslate"><span class="pre">&quot;gp&quot;</span></code>), and/or
during the transform from spectral to gridpoint (<code class="docutils literal notranslate"><span class="pre">&quot;sp&quot;</span></code>). Filter types are
“none”, “cesaro”, “exp”, or “lh” (see the Notes for more details).
Combinations of filter types and times should be combined with a <code class="docutils literal notranslate"><span class="pre">|</span></code>,
e.g. <code class="docutils literal notranslate"><span class="pre">physicsfilter=&quot;gp|exp|sp&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">physicsfilter=&quot;gp|cesaro&quot;</span></code>.</p>
</dd>
<dt>filterkappa<span class="classifier">float, optional</span></dt><dd><p>A constant to be used with the exponential filter. Default is 8.0.</p>
</dd>
<dt>filterpower<span class="classifier">int, optional</span></dt><dd><p>A constant integer to be used with the exponential filter. Default is 8.</p>
</dd>
<dt>filterLHN0<span class="classifier">float, optional</span></dt><dd><p>The constant used in the denominator of the Lander-Hoskins Filter. Default
is 15; typically chosen so f(N)=0.1.</p>
</dd>
<dt>diffusionwaven<span class="classifier">int, optional</span></dt><dd><p>The critical wavenumber beyond which hyperdiffusion is applied. Default
is 15 for T21.</p>
</dd>
<dt>qdiffusion<span class="classifier">float, optional</span></dt><dd><p>Timescale for humidity hyperdiffusion in days. Default for T21 is 0.1.</p>
</dd>
<dt>tdiffusion<span class="classifier">float, optional</span></dt><dd><p>Timescale for temperature hyperdiffusion in days. Default for T21 is 5.6.</p>
</dd>
<dt>zdiffusion<span class="classifier">float, optional</span></dt><dd><p>Timescale for vorticity hyperdiffusion in days. Default for T21 is 1.1.</p>
</dd>
<dt>ddiffusion<span class="classifier">float, optional</span></dt><dd><p>Timescale for divergence hyperdiffusion in days.. Default for T21 is 0.2.</p>
</dd>
<dt>diffusionpower<span class="classifier">int, optional</span></dt><dd><p>integer exponent used in hyperdiffusion. Default is 2 for T21.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Radiation</strong></p>
<blockquote>
<div><dl class="simple">
<dt>flux<span class="classifier">float, optional</span></dt><dd><p>Incident stellar flux in W/m^2. Default 1367 for Earth.</p>
</dd>
<dt>startemp<span class="classifier">float, optional</span></dt><dd><p>Effective blackbody temperature for the star. Not used if not set.</p>
</dd>
<dt>starspec<span class="classifier">str, optional</span></dt><dd><p>Spectral file for the stellar spectrum. Should have two columns and 965 rows,
with wavelength in the first column and radiance or intensity in the second.
A similarly-named file with the “_hr.dat” suffix must also exist and have
2048 wavelengths.</p>
</dd>
<dt>twobandalbedo<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, separate albedos will be calculated for each of the
two shortwave bands. If False (default), a single broadband albedo will be
computed and used for both.</p>
</dd>
<dt>synchronous<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, the Sun is fixed to one longitude in the sky.</p>
</dd>
<dt>substellarlon<span class="classifier">float, optional</span></dt><dd><p>The longitude of the substellar point, if synchronous==True. Default 180°</p>
</dd>
<dt>pressurebroaden<span class="classifier">bool, optional</span></dt><dd><p>True/False. If False, pressure-broadening of absorbers no longer depends
on surface pressure. Default is True</p>
</dd>
<dt>ozone<span class="classifier">bool, optional</span></dt><dd><p>True/False. Whether or not forcing from stratospheric ozone should be included.</p>
</dd>
<dt>snowicealbedo<span class="classifier">float, optional</span></dt><dd><p>A uniform albedo to use for all snow and ice.</p>
</dd>
<dt>soilalbedo<span class="classifier">float, optional</span></dt><dd><p>A uniform albedo to use for all land.</p>
</dd>
<dt>wetsoil<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, land albedo depends on soil moisture (wet=darker).</p>
</dd>
<dt>oceanalbedo<span class="classifier">float, optional</span></dt><dd><p>A uniform albedo to use for the ocean.</p>
</dd>
<dt>oceanzenith<span class="classifier">{“ECHAM-3”,”ECHAM-6”,”Lambertian}, optional</span></dt><dd><p>The zenith-angle dependence to use for blue-light reflectance from the ocean.
Can be <code class="docutils literal notranslate"><span class="pre">'Lambertian'</span></code>/<code class="docutils literal notranslate"><span class="pre">'uniform'</span></code>, <code class="docutils literal notranslate"><span class="pre">'ECHAM-3'</span></code>/<code class="docutils literal notranslate"><span class="pre">'plasim'</span></code>/<code class="docutils literal notranslate"><span class="pre">'default'</span></code>, or <code class="docutils literal notranslate"><span class="pre">'ECHAM-6'</span></code>.
The default is <code class="docutils literal notranslate"><span class="pre">'ECHAM-3'</span></code> (synonymous with <code class="docutils literal notranslate"><span class="pre">'plasim'</span></code> and <code class="docutils literal notranslate"><span class="pre">'default'</span></code>), which is
the dependence used in the ECHAM-3 model.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Orbital Parameters</strong></p>
<blockquote>
<div><dl class="simple">
<dt>year<span class="classifier">float, optional</span></dt><dd><p>Number of 24-hour days in a sidereal year. Not necessary if eccentricity and
obliquity are zero. Defaults if not set to ~365.25 days</p>
</dd>
<dt>rotationperiod<span class="classifier">float, optional</span></dt><dd><p>Planetary rotation period, in days. Default is 1.0.</p>
</dd>
<dt>eccentricity<span class="classifier">float, optional</span></dt><dd><p>Orbital eccentricity. If not set, defaults to Earth’s (0.016715)</p>
</dd>
<dt>obliquity<span class="classifier">float, optional</span></dt><dd><p>Axial tilt, in degrees. If not set, defaults to Earth’s obliquity (23.441°).</p>
</dd>
<dt>lonvernaleq<span class="classifier">float, optional</span></dt><dd><p>Longitude of periapse, measured from vernal equinox, in degrees. If
not set, defaults to Earth’s (102.7°).</p>
</dd>
<dt>fixedorbit<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, orbital parameters do not vary over time. If False,
variations such as Milankovich cycles will be computed by PlaSim.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Planet Parameters</strong></p>
<blockquote>
<div><dl class="simple">
<dt>gravity<span class="classifier">float, optional</span></dt><dd><p>Surface gravity, in m/s^2. Defaults to 9.80665 m/s^2.</p>
</dd>
<dt>radius<span class="classifier">float, optional</span></dt><dd><p>Planet radius in Earth radii. Default is 1.0.</p>
</dd>
<dt>orography<span class="classifier">float, optional</span></dt><dd><p>If set, a scaling factor for topographic relief. If <code class="docutils literal notranslate"><span class="pre">orography=0.0</span></code>, topography
will be zeroed-out.</p>
</dd>
<dt>aquaplanet<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, the surface will be entirely ocean-covered.</p>
</dd>
<dt>desertplanet<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, the surface will be entirely land-covered.</p>
</dd>
<dt>seaice<span class="classifier">bool, optional</span></dt><dd><p>True/False. If False, disables radiative effects of sea ice (although sea ice
itself is still computed).</p>
</dd>
<dt>landmap<span class="classifier">str, optional</span></dt><dd><p>Path to a <code class="docutils literal notranslate"><span class="pre">.sra</span></code> file containing a land mask for the chosen resolution.</p>
</dd>
<dt>topomap<span class="classifier">str, optional</span></dt><dd><p>Path to a <code class="docutils literal notranslate"><span class="pre">.sra</span></code> file containing geopotential height map. Must include landmap.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Atmosphere</strong></p>
<blockquote>
<div><dl class="simple">
<dt>gascon<span class="classifier">float, optional</span></dt><dd><p>Effective gas constant. Defaults to 287.0 (Earth), or the gas constant
corresponding to the composition specified by partial pressures.</p>
</dd>
<dt>vtype<span class="classifier">{0,1,2,3,4,5}, optional</span></dt><dd><p>Type of vertical discretization. Can be:
0   Pseudolinear scaling with pressure that maintains resolution near the ground.
1   Linear scaling with pressure.
2   Logarithmic scaling with pressure (resolves high altitudes)
3   Pseudologarithmic scaling with pressure that preserves resolution near the ground.
4   Pseudolinear scaling with pressure, pinned to a specified top pressure.
5   If &gt;10 layers, bottom 10 as if <code class="docutils literal notranslate"><span class="pre">vtype=4</span></code>, and upper layers as if <code class="docutils literal notranslate"><span class="pre">vtype=2</span></code>.</p>
</dd>
<dt>modeltop<span class="classifier">float, optional</span></dt><dd><p>Pressure of the top layer</p>
</dd>
<dt>tropopause<span class="classifier">float, optional</span></dt><dd><p>If stratosphere is being included, pressure of the 10th layer (where scheme
switches from linear to logarithmic).</p>
</dd>
<dt>stratosphere<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, vtype=5 is used, and model is discretized to include
a stratosphere.</p>
</dd>
<dt>pressure: float, optional</dt><dd><p>Surface pressure in bars, if not specified through partial pressures.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Gas Partial Pressures</strong></p>
<p>Partial pressures of individual gases can be specified. If pressure and gascon are not explicitly set, these will determine surface pressure, mean molecular weight, and effective gas constant. Note however that Rayleigh scattering assumes an Earth-like composition, and the only absorbers explicitly included in the radiation scheme are CO2 and H2O.</p>
<blockquote>
<div><dl class="simple">
<dt>pH2<span class="classifier">float, optional</span></dt><dd><p>H2 partial pressure in bars.</p>
</dd>
<dt>pHe<span class="classifier">float, optional</span></dt><dd><p>He partial pressure in bars.</p>
</dd>
<dt>pN2<span class="classifier">float, optional</span></dt><dd><p>N2 partial pressure in bars.</p>
</dd>
<dt>pO2<span class="classifier">float, optional</span></dt><dd><p>O2 partial pressure in bars.</p>
</dd>
<dt>pH2<span class="classifier">float, optional</span></dt><dd><p>H2 partial pressure in bars.</p>
</dd>
<dt>pAr<span class="classifier">float, optional</span></dt><dd><p>Ar partial pressure in bars.</p>
</dd>
<dt>pNe<span class="classifier">float, optional</span></dt><dd><p>Ne partial pressure in bars.</p>
</dd>
<dt>pKr<span class="classifier">float, optional</span></dt><dd><p>Kr partial pressure in bars.</p>
</dd>
<dt>pCO2<span class="classifier">float, optional</span></dt><dd><p>CO2 partial pressure in bars. This gets translated into a ppmv concentration, so if you want to specify/vary CO2 but don’t need the other gases, specifying pCO2, pressure, and gascon will do the trick. In most use cases, however, just specifying pN2 and pCO2 will give good enough behavior.</p>
</dd>
<dt>pH2O<span class="classifier">float, optional</span></dt><dd><p>H2O partial pressure in bars. This is only useful in setting the gas constant and surface pressure; it will have no effect on actual moist processes.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Surface Parameters</strong></p>
<blockquote>
<div><dl class="simple">
<dt>mldepth<span class="classifier">float, optional</span></dt><dd><p>Depth of the mixed-layer ocean. Default is 50 meters.</p>
</dd>
<dt>soildepth<span class="classifier">float, optional</span></dt><dd><p>Scaling factor for the depth of soil layers (default total of 12.4 meters)</p>
</dd>
<dt>cpsoil<span class="classifier">float, optional</span></dt><dd><p>Heat capacity of the soil, in J/m^3/K. Default is 2.4*10^6.</p>
</dd>
<dt>soilwatercap<span class="classifier">float, optional</span></dt><dd><p>Water capacity of the soil, in meters. Defaults to 0.5 meters</p>
</dd>
<dt>soilsaturation<span class="classifier">float, optional</span></dt><dd><p>Initial fractional saturation of the soil. Default is 0.0 (dry).</p>
</dd>
<dt>maxsnow<span class="classifier">float, optional</span></dt><dd><p>Maximum snow depth (Default is 5 meters; set to -1 to have no limit).</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Additional Physics</strong></p>
<blockquote>
<div><dl class="simple">
<dt>Carbon-Silicate Weathering</dt><dd><dl class="simple">
<dt>co2weathering<span class="classifier">bool, optional</span></dt><dd><p>True/False. Toggles whether or not carbon-silicate weathering should be
computed. Default is False.</p>
</dd>
<dt>evolveco2<span class="classifier">bool, optional</span></dt><dd><p>True/False. If co2weathering==True, toggles whether or not the CO2 partial
pressure should be updated every year. Usually the change in pCO2 will be
extremely small, so this is not necessary, and weathering experiments try
to estimate the average weathering rate for a given climate in order to
interpolate timescales between climates, rather than modelling changes in CO2
over time directly.</p>
</dd>
<dt>outgassing<span class="classifier">float, optional</span></dt><dd><p>The assumed CO2 outgassing rate in units of Earth outgassing. Default is 1.0.</p>
</dd>
<dt>erosionsupplylimit<span class="classifier">float, optional</span></dt><dd><p>If set, the maximum CO2 weathering rate per year permitted by
erosion, in ubars/year. This is not simply a hard cutoff, but follows
Foley 2015 so high weathering below the cutoff is also reduced.</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p>See <a href="#id82"><span class="problematic" id="id37">[1]_</span></a> for details on the implementation of supply-limited weathering.</p>
<blockquote>
<div><dl>
<dt>Glaciology</dt><dd><dl>
<dt>glaciers<span class="classifier">dict, optional</span></dt><dd><p>A dictionary containing the following arguments:
toggle : bool</p>
<blockquote>
<div><p>True/False. Whether or not glaciers should be allowed to grow or shrink in thickness, or be formed from persistent snow on land.</p>
</div></blockquote>
<dl class="simple">
<dt>mindepth<span class="classifier">float</span></dt><dd><p>The minimum snow depth in meters of liquid water equivalent that must persist year-round before the grid cell is considered glaciated. Default is 2 meters.</p>
</dd>
<dt>initialh<span class="classifier">float</span></dt><dd><p>If &gt;=0, covers the land surface with ice sheets of a height given in meterss. If -1, no initial ice sheets are assumed.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>Storm Climatology</dt><dd><dl>
<dt>stormclim<span class="classifier">bool, optional</span></dt><dd><p>True/False. Toggles whether or not storm climatology (convective available
potential energy, maximum potential intensity, ventilation index, etc)
should be computed. If True, output fields related to storm climatology
will be added to standard output files. Enabling this mode currently roughly
doubles the computational cost of the model. This may improve in future
updates. Refer to Paradise, et al 2021 for implementation description.</p>
</dd>
<dt>stormcapture<span class="classifier">dict, optional</span></dt><dd><p>A dictionary containing arguments controlling when high-cadence output
is triggered by storm activity. This dictionary must contain ‘toggle’, which
can be either 1 or 0 (yes or no). It may also contain any namelist
parameters accepted by hurricanemod.f90, including the following:</p>
<dl class="simple">
<dt>toggle<span class="classifier">{0,1}</span></dt><dd><p>Whether (1) or not (0) to write high-cadence output when storms occur</p>
</dd>
<dt>NKTRIGGER<span class="classifier">{0,1}, optional</span></dt><dd><p>(0/1=no/yes). Whether or not to use the Komacek, et al 2020 conditions for hurricane cyclogenesis as the output trigger. Default is no.</p>
</dd>
<dt>VITHRESH<span class="classifier">float, optional</span></dt><dd><p>(nktrigger) Ventilation index threshold for nktrigger output. Default 0.145</p>
</dd>
<dt>VMXTHRESH<span class="classifier">float, optional</span></dt><dd><p>(nktrigger) Max potential intensity threshold for nktrigger output.Default 33 m/s</p>
</dd>
<dt>LAVTHRESH<span class="classifier">float, optional</span></dt><dd><p>(nktrigger) Lower-atmosphere vorticity threshold for nktrigger output. Default 1.2*10^-5 s^-1</p>
</dd>
<dt>VRMTHRESH<span class="classifier">float, optional</span></dt><dd><p>(unused) Ventilation-reduced maximum intensity threshold. Default 0.577</p>
</dd>
<dt>GPITHRESH<span class="classifier">float, optional</span></dt><dd><p>(default) Genesis Potential Index threshold. Default 0.37.</p>
</dd>
<dt>MINSURFTEMP<span class="classifier">float, optional</span></dt><dd><p>(default) Min. surface temperature for storm activity. Default 25C</p>
</dd>
<dt>MAXSURFTEMP<span class="classifier">float, optional</span></dt><dd><p>(default) Max. surface temperature for storm activity. Default 100C</p>
</dd>
<dt>WINDTHRESH<span class="classifier">float, optional</span></dt><dd><p>(default) Lower-atmosphere maximum wind threshold for storm activity.  Default 33 m/s</p>
</dd>
<dt>SWINDTHRESH<span class="classifier">float, optional</span></dt><dd><p>(default) Minimum surface windspeed for storm activity. Default 20.5 m/s</p>
</dd>
<dt>SIZETHRESH<span class="classifier">float, optional</span></dt><dd><p>(default) Minimum number of cells that must trigger to start outputDefault 30</p>
</dd>
<dt>ENDTHRESH<span class="classifier">float, optional</span></dt><dd><p>(default) Minimum number of cells at which point storm output ends.Default 16</p>
</dd>
<dt>MINSTORMLEN<span class="classifier">float, optional</span></dt><dd><p>(default) Minimum number of timesteps to write output. Default 256</p>
</dd>
<dt>MAXSTORMLEN<span class="classifier">float, optional</span></dt><dd><p>(default) Maximum number of timesteps to write output. Default 1024</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p>Note that actual number of writes will be stormlen/interval, as set in highcadence. This interval defaults to 4, so 64 writes minimum, 256 max. For more details on the storm climatology factors considered here, see <a href="#id83"><span class="problematic" id="id38">[5]_</span></a>.</p>
</div></blockquote>
<p class="rubric">Notes</p>
<p>In some cases, it may be necessary to include physics filters. This typically becomes
necessary when sharp features are projected on the model’s smallest spectral modes, causing
Gibbs “ripples”. Earth-like models typically do not require filtering, but tidally-locked
models do. Filtering may be beneficial for Earth-like models at very high resolutions as well,
or if there is sharp topography.</p>
<p>Three filter functional forms are included in ExoPlaSim: Cesaro, exponential, and Lander-Hoskins. Their functional forms are given below, where <cite>n</cite> is the wavenumber, and <cite>N</cite> is the
truncation wavenumber (e.g. 21 for T21):</p>
<p>Cesaro: <span class="math notranslate nohighlight">\(f(n)=1-\frac{n}{N+1}\)</span> <a href="#id84"><span class="problematic" id="id39">[2]_</span></a></p>
<p>Exponential: <span class="math notranslate nohighlight">\(f(n)=\exp\left[-\kappa\left(\frac{n}{N}\right)^\gamma\right]\)</span> <a href="#id85"><span class="problematic" id="id40">[3]_</span></a></p>
<p>Lander-Hoskins: <span class="math notranslate nohighlight">\(f(n)=\exp\left[-\left(\frac{n(n+1)}{n_0(n_0+1}\right)^2\right]\)</span> <a href="#id86"><span class="problematic" id="id41">[3]_</span></a> <a href="#id87"><span class="problematic" id="id42">[4]_</span></a></p>
<p><span class="math notranslate nohighlight">\(\kappa\)</span> is exposed to the user through <code class="docutils literal notranslate"><span class="pre">filterkappa</span></code>,
<span class="math notranslate nohighlight">\(\gamma\)</span> is exposed through <code class="docutils literal notranslate"><span class="pre">filterpower</span></code>, and <span class="math notranslate nohighlight">\(n_0\)</span> is
exposed through <code class="docutils literal notranslate"><span class="pre">filterLHN0</span></code>.</p>
<p>Physics filters can be applied at two different points; either at the transform from gridpoint
to spectral, or the reverse. We find that in most cases, the ideal usage is to use both.
Generally, a filter at the gridpoint-&gt;spectral transform is good for dealing with oscillations
caused by sharp jumps and small features in the gridpoint tendencies. Conversely, a filter
at the spectral-&gt;gridpoint transform is good for dealing with oscillations that come from
small-scale features in the spectral fields causing small-scale features to appear in the
gridpoint tendencies <a href="#id88"><span class="problematic" id="id43">[3]_</span></a>. Since we deal with climate systems where everything is coupled,
any oscillations not removed by one filter will be amplified through physical feedbacks if not
suppressed by the other filter.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">modify</span></code></dt><dd><p>Change model configuration after it has been initialized</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id44"><span class="brackets">1</span></dt>
<dd><p>Foley, B. J. (2015). The Role of Plate Tectonic-Climate Coupling and Exposed Land Area in the Development of Habitable Climates on Rocky Planets. The Astrophysical Journal, 812(1), 36. <a class="reference external" href="https://doi.org/10.1088/0004-637X/812/1/36">https://doi.org/10.1088/0004-637X/812/1/36</a></p>
</dd>
<dt class="label" id="id45"><span class="brackets">2</span></dt>
<dd><p>Navarra, A., Stern, W. F., &amp; Miyakoda, K. (1994). Reduction of the Gibbs Oscillation in Spectral Model Simulations. Journal of Climate, 7(8), 1169–1183. <a class="reference external" href="https://doi.org/10.1175/1520-0442(1994">https://doi.org/10.1175/1520-0442(1994</a>)007&lt;1169:ROTGOI&gt;2.0.CO;2</p>
</dd>
<dt class="label" id="id46"><span class="brackets">3</span></dt>
<dd><p>Lander, J., &amp; Hoskins, B. J. (1997). Believable Scales and Parameterizations in a Spectral Transform Model. Monthly Weather Review, 125(2), 292–303. <a class="reference external" href="https://doi.org/10.1175/1520-0493(1997">https://doi.org/10.1175/1520-0493(1997</a>)125&lt;0292:BSAPIA&gt;2.0.CO;2</p>
</dd>
<dt class="label" id="id47"><span class="brackets">4</span></dt>
<dd><p>Scinocca, J. F., McFarlane, N. A., Lazare, M., Li, J., &amp; Plummer, D. (2008). Technical Note: The CCCma third generation AGCM and its extension into the middle atmosphere. Atmospheric Chemistry and Physics, 8(23), 7055–7074. <a class="reference external" href="https://doi.org/10.5194/acp-8-7055-2008">https://doi.org/10.5194/acp-8-7055-2008</a></p>
</dd>
<dt class="label" id="id48"><span class="brackets">5</span></dt>
<dd><p>Komacek, T. D., Chavas, D. R., &amp; Abbot, D. S. (2020). Hurricane Genesis is Favorable on Terrestrial Exoplanets Orbiting Late-type M Dwarf Stars. The Astrophysical Journal, 898(2), 115. <a class="reference external" href="https://doi.org/10.3847/1538-4357/aba0b9">https://doi.org/10.3847/1538-4357/aba0b9</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="exoplasim.TLmodel">
<em class="property">class </em><code class="sig-prename descclassname">exoplasim.</code><code class="sig-name descname">TLmodel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">resolution</span><span class="o">=</span><span class="default_value">'T21'</span></em>, <em class="sig-param"><span class="n">layers</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">ncpus</span><span class="o">=</span><span class="default_value">4</span></em>, <em class="sig-param"><span class="n">precision</span><span class="o">=</span><span class="default_value">8</span></em>, <em class="sig-param"><span class="n">debug</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">inityear</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">recompile</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">optimization</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mars</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">workdir</span><span class="o">=</span><span class="default_value">'most'</span></em>, <em class="sig-param"><span class="n">source</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">modelname</span><span class="o">=</span><span class="default_value">'MOST_EXP'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim.html#TLmodel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.TLmodel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#exoplasim.Model" title="exoplasim.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">exoplasim.Model</span></code></a></p>
<p>Create a tidally-locked model.</p>
<p>Identical to exoplasim.Model, except configuration options suitable for
tidally-locked models are the default when configure() is called.</p>
<dl class="py method">
<dt id="exoplasim.TLmodel.configure">
<code class="sig-name descname">configure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timestep</span><span class="o">=</span><span class="default_value">30.0</span></em>, <em class="sig-param"><span class="n">snapshots</span><span class="o">=</span><span class="default_value">720</span></em>, <em class="sig-param"><span class="n">eccentricity</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">ozone</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">obliquity</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">physicsfilter</span><span class="o">=</span><span class="default_value">'gp|exp|sp'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/exoplasim.html#TLmodel.configure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#exoplasim.TLmodel.configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the model’s namelists and boundary conditions.</p>
<blockquote>
<div><blockquote>
<div><p>The defaults here are appropriate for an Earth model.</p>
</div></blockquote>
<p><strong>Model Operation</strong></p>
<blockquote>
<div><dl>
<dt>noutput<span class="classifier">bool, optional</span></dt><dd><p>True/False. Whether or not model output should be written.
restartfile: Path to a restart file to use for initial conditions. Can be None.</p>
</dd>
<dt>writefrequency<span class="classifier">int, optional</span></dt><dd><p>How many times per day ExoPlaSim should write output. Ignored by
default–default is to write time-averaged output once every 5 days.</p>
</dd>
<dt>timestep<span class="classifier">float, optional</span></dt><dd><p>Model timestep. Defaults to 45 minutes.</p>
</dd>
<dt>runscript<span class="classifier">function , optional</span></dt><dd><p>A Python function that accepts a Model object as its first argument. This
is the routine that will be run when you issue the Model.run() command.
Any keyword arguments passed to run() will be forwarded to the specified
function. If not set, the default internal routine will be used.</p>
</dd>
<dt>snapshots<span class="classifier">int, optional</span></dt><dd><p>How many timesteps should elapse between snapshot outputs. If not set,
no snapshots will be written.</p>
</dd>
<dt>highcadence<span class="classifier">dict, optional</span></dt><dd><p>A dictionary containing the following arguments:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">'toggle'</span></code><span class="classifier">{0,1}</span></dt><dd><p>Whether or not high-cadence output should be written (1=yes).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'start'</span></code><span class="classifier">int</span></dt><dd><p>Timestep at which high-cadence output should begin.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'end'</span></code><span class="classifier">int</span></dt><dd><p>Timestep at which high-cadence output should end.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'interval'</span></code><span class="classifier">int</span></dt><dd><p>How many timesteps should elapse between high-cadence outputs.</p>
</dd>
</dl>
</div></blockquote>
</dd>
<dt>threshold<span class="classifier">float, optional</span></dt><dd><p>Energy balance threshold model should run to, if using runtobalance().
Default is &lt;0.05 W/m^2/yr average drift in TOA and surface energy balance
over 45-year timescales.</p>
</dd>
<dt>resources<span class="classifier">list, optional</span></dt><dd><p>A list of paths to any additional files that should be available in the
run directory.</p>
</dd>
<dt>otherargs<span class="classifier">dict, optional</span></dt><dd><p>Any namelist parameters not included by default in the configuration options.
These should be passed as a dictionary, with “<a class="reference external" href="mailto:PARAMETER&#37;&#52;&#48;namelist">PARAMETER<span>&#64;</span>namelist</a>” as the
form of the dictionary key, and the parameter value passed as a string.
e.g. <code class="docutils literal notranslate"><span class="pre">otherargs={&quot;N_RUN_MONTHS&#64;plasim_namelist&quot;:'4',&quot;NGUI&#64;plasim_namelist:'1'}</span></code></p>
</dd>
</dl>
</div></blockquote>
<p><strong>Model Dynamics</strong></p>
<blockquote>
<div><dl class="simple">
<dt>columnmode<span class="classifier">{None,”-“,”clear”,”static”,”static|clear”,”clear|static”}, optional</span></dt><dd><p>The inclusion of ‘static’ will disable horizontal advection, forcing ExoPlaSim
into a column-only mode of operation. The inclusion of ‘clear’ will disable
the radiative effects of clouds.</p>
</dd>
<dt>drycore<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, evaporation is turned off, and a dry atmosphere will
be used.</p>
</dd>
<dt>physicsfilter<span class="classifier">str, optional</span></dt><dd><p>If not an empty string, specifies the physics filter(s) to be used. Filters
can be used during the transform from gridpoint to spectral (<code class="docutils literal notranslate"><span class="pre">&quot;gp&quot;</span></code>), and/or
during the transform from spectral to gridpoint (<code class="docutils literal notranslate"><span class="pre">&quot;sp&quot;</span></code>). Filter types are
“none”, “cesaro”, “exp”, or “lh” (see the Notes for more details).
Combinations of filter types and times should be combined with a <code class="docutils literal notranslate"><span class="pre">|</span></code>,
e.g. <code class="docutils literal notranslate"><span class="pre">physicsfilter=&quot;gp|exp|sp&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">physicsfilter=&quot;gp|cesaro&quot;</span></code>.</p>
</dd>
<dt>filterkappa<span class="classifier">float, optional</span></dt><dd><p>A constant to be used with the exponential filter. Default is 8.0.</p>
</dd>
<dt>filterpower<span class="classifier">int, optional</span></dt><dd><p>A constant integer to be used with the exponential filter. Default is 8.</p>
</dd>
<dt>filterLHN0<span class="classifier">float, optional</span></dt><dd><p>The constant used in the denominator of the Lander-Hoskins Filter. Default
is 15; typically chosen so f(N)=0.1.</p>
</dd>
<dt>diffusionwaven<span class="classifier">int, optional</span></dt><dd><p>The critical wavenumber beyond which hyperdiffusion is applied. Default
is 15 for T21.</p>
</dd>
<dt>qdiffusion<span class="classifier">float, optional</span></dt><dd><p>Timescale for humidity hyperdiffusion in days. Default for T21 is 0.1.</p>
</dd>
<dt>tdiffusion<span class="classifier">float, optional</span></dt><dd><p>Timescale for temperature hyperdiffusion in days. Default for T21 is 5.6.</p>
</dd>
<dt>zdiffusion<span class="classifier">float, optional</span></dt><dd><p>Timescale for vorticity hyperdiffusion in days. Default for T21 is 1.1.</p>
</dd>
<dt>ddiffusion<span class="classifier">float, optional</span></dt><dd><p>Timescale for divergence hyperdiffusion in days.. Default for T21 is 0.2.</p>
</dd>
<dt>diffusionpower<span class="classifier">int, optional</span></dt><dd><p>integer exponent used in hyperdiffusion. Default is 2 for T21.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Radiation</strong></p>
<blockquote>
<div><dl class="simple">
<dt>flux<span class="classifier">float, optional</span></dt><dd><p>Incident stellar flux in W/m^2. Default 1367 for Earth.</p>
</dd>
<dt>startemp<span class="classifier">float, optional</span></dt><dd><p>Effective blackbody temperature for the star. Not used if not set.</p>
</dd>
<dt>starspec<span class="classifier">str, optional</span></dt><dd><p>Spectral file for the stellar spectrum. Should have two columns and 965 rows,
with wavelength in the first column and radiance or intensity in the second.
A similarly-named file with the “_hr.dat” suffix must also exist and have
2048 wavelengths.</p>
</dd>
<dt>twobandalbedo<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, separate albedos will be calculated for each of the
two shortwave bands. If False (default), a single broadband albedo will be
computed and used for both.</p>
</dd>
<dt>synchronous<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, the Sun is fixed to one longitude in the sky.</p>
</dd>
<dt>substellarlon<span class="classifier">float, optional</span></dt><dd><p>The longitude of the substellar point, if synchronous==True. Default 180°</p>
</dd>
<dt>pressurebroaden<span class="classifier">bool, optional</span></dt><dd><p>True/False. If False, pressure-broadening of absorbers no longer depends
on surface pressure. Default is True</p>
</dd>
<dt>ozone<span class="classifier">bool, optional</span></dt><dd><p>True/False. Whether or not forcing from stratospheric ozone should be included.</p>
</dd>
<dt>snowicealbedo<span class="classifier">float, optional</span></dt><dd><p>A uniform albedo to use for all snow and ice.</p>
</dd>
<dt>soilalbedo<span class="classifier">float, optional</span></dt><dd><p>A uniform albedo to use for all land.</p>
</dd>
<dt>wetsoil<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, land albedo depends on soil moisture (wet=darker).</p>
</dd>
<dt>oceanalbedo<span class="classifier">float, optional</span></dt><dd><p>A uniform albedo to use for the ocean.</p>
</dd>
<dt>oceanzenith<span class="classifier">{“ECHAM-3”,”ECHAM-6”,”Lambertian}, optional</span></dt><dd><p>The zenith-angle dependence to use for blue-light reflectance from the ocean.
Can be <code class="docutils literal notranslate"><span class="pre">'Lambertian'</span></code>/<code class="docutils literal notranslate"><span class="pre">'uniform'</span></code>, <code class="docutils literal notranslate"><span class="pre">'ECHAM-3'</span></code>/<code class="docutils literal notranslate"><span class="pre">'plasim'</span></code>/<code class="docutils literal notranslate"><span class="pre">'default'</span></code>, or <code class="docutils literal notranslate"><span class="pre">'ECHAM-6'</span></code>.
The default is <code class="docutils literal notranslate"><span class="pre">'ECHAM-3'</span></code> (synonymous with <code class="docutils literal notranslate"><span class="pre">'plasim'</span></code> and <code class="docutils literal notranslate"><span class="pre">'default'</span></code>), which is
the dependence used in the ECHAM-3 model.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Orbital Parameters</strong></p>
<blockquote>
<div><dl class="simple">
<dt>year<span class="classifier">float, optional</span></dt><dd><p>Number of 24-hour days in a sidereal year. Not necessary if eccentricity and
obliquity are zero. Defaults if not set to ~365.25 days</p>
</dd>
<dt>rotationperiod<span class="classifier">float, optional</span></dt><dd><p>Planetary rotation period, in days. Default is 1.0.</p>
</dd>
<dt>eccentricity<span class="classifier">float, optional</span></dt><dd><p>Orbital eccentricity. If not set, defaults to Earth’s (0.016715)</p>
</dd>
<dt>obliquity<span class="classifier">float, optional</span></dt><dd><p>Axial tilt, in degrees. If not set, defaults to Earth’s obliquity (23.441°).</p>
</dd>
<dt>lonvernaleq<span class="classifier">float, optional</span></dt><dd><p>Longitude of periapse, measured from vernal equinox, in degrees. If
not set, defaults to Earth’s (102.7°).</p>
</dd>
<dt>fixedorbit<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, orbital parameters do not vary over time. If False,
variations such as Milankovich cycles will be computed by PlaSim.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Planet Parameters</strong></p>
<blockquote>
<div><dl class="simple">
<dt>gravity<span class="classifier">float, optional</span></dt><dd><p>Surface gravity, in m/s^2. Defaults to 9.80665 m/s^2.</p>
</dd>
<dt>radius<span class="classifier">float, optional</span></dt><dd><p>Planet radius in Earth radii. Default is 1.0.</p>
</dd>
<dt>orography<span class="classifier">float, optional</span></dt><dd><p>If set, a scaling factor for topographic relief. If <code class="docutils literal notranslate"><span class="pre">orography=0.0</span></code>, topography
will be zeroed-out.</p>
</dd>
<dt>aquaplanet<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, the surface will be entirely ocean-covered.</p>
</dd>
<dt>desertplanet<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, the surface will be entirely land-covered.</p>
</dd>
<dt>seaice<span class="classifier">bool, optional</span></dt><dd><p>True/False. If False, disables radiative effects of sea ice (although sea ice
itself is still computed).</p>
</dd>
<dt>landmap<span class="classifier">str, optional</span></dt><dd><p>Path to a <code class="docutils literal notranslate"><span class="pre">.sra</span></code> file containing a land mask for the chosen resolution.</p>
</dd>
<dt>topomap<span class="classifier">str, optional</span></dt><dd><p>Path to a <code class="docutils literal notranslate"><span class="pre">.sra</span></code> file containing geopotential height map. Must include landmap.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Atmosphere</strong></p>
<blockquote>
<div><dl class="simple">
<dt>gascon<span class="classifier">float, optional</span></dt><dd><p>Effective gas constant. Defaults to 287.0 (Earth), or the gas constant
corresponding to the composition specified by partial pressures.</p>
</dd>
<dt>vtype<span class="classifier">{0,1,2,3,4,5}, optional</span></dt><dd><p>Type of vertical discretization. Can be:
0   Pseudolinear scaling with pressure that maintains resolution near the ground.
1   Linear scaling with pressure.
2   Logarithmic scaling with pressure (resolves high altitudes)
3   Pseudologarithmic scaling with pressure that preserves resolution near the ground.
4   Pseudolinear scaling with pressure, pinned to a specified top pressure.
5   If &gt;10 layers, bottom 10 as if <code class="docutils literal notranslate"><span class="pre">vtype=4</span></code>, and upper layers as if <code class="docutils literal notranslate"><span class="pre">vtype=2</span></code>.</p>
</dd>
<dt>modeltop<span class="classifier">float, optional</span></dt><dd><p>Pressure of the top layer</p>
</dd>
<dt>tropopause<span class="classifier">float, optional</span></dt><dd><p>If stratosphere is being included, pressure of the 10th layer (where scheme
switches from linear to logarithmic).</p>
</dd>
<dt>stratosphere<span class="classifier">bool, optional</span></dt><dd><p>True/False. If True, vtype=5 is used, and model is discretized to include
a stratosphere.</p>
</dd>
<dt>pressure: float, optional</dt><dd><p>Surface pressure in bars, if not specified through partial pressures.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Gas Partial Pressures</strong></p>
<p>Partial pressures of individual gases can be specified. If pressure and gascon are not explicitly set, these will determine surface pressure, mean molecular weight, and effective gas constant. Note however that Rayleigh scattering assumes an Earth-like composition, and the only absorbers explicitly included in the radiation scheme are CO2 and H2O.</p>
<blockquote>
<div><dl class="simple">
<dt>pH2<span class="classifier">float, optional</span></dt><dd><p>H2 partial pressure in bars.</p>
</dd>
<dt>pHe<span class="classifier">float, optional</span></dt><dd><p>He partial pressure in bars.</p>
</dd>
<dt>pN2<span class="classifier">float, optional</span></dt><dd><p>N2 partial pressure in bars.</p>
</dd>
<dt>pO2<span class="classifier">float, optional</span></dt><dd><p>O2 partial pressure in bars.</p>
</dd>
<dt>pH2<span class="classifier">float, optional</span></dt><dd><p>H2 partial pressure in bars.</p>
</dd>
<dt>pAr<span class="classifier">float, optional</span></dt><dd><p>Ar partial pressure in bars.</p>
</dd>
<dt>pNe<span class="classifier">float, optional</span></dt><dd><p>Ne partial pressure in bars.</p>
</dd>
<dt>pKr<span class="classifier">float, optional</span></dt><dd><p>Kr partial pressure in bars.</p>
</dd>
<dt>pCO2<span class="classifier">float, optional</span></dt><dd><p>CO2 partial pressure in bars. This gets translated into a ppmv concentration, so if you want to specify/vary CO2 but don’t need the other gases, specifying pCO2, pressure, and gascon will do the trick. In most use cases, however, just specifying pN2 and pCO2 will give good enough behavior.</p>
</dd>
<dt>pH2O<span class="classifier">float, optional</span></dt><dd><p>H2O partial pressure in bars. This is only useful in setting the gas constant and surface pressure; it will have no effect on actual moist processes.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Surface Parameters</strong></p>
<blockquote>
<div><dl class="simple">
<dt>mldepth<span class="classifier">float, optional</span></dt><dd><p>Depth of the mixed-layer ocean. Default is 50 meters.</p>
</dd>
<dt>soildepth<span class="classifier">float, optional</span></dt><dd><p>Scaling factor for the depth of soil layers (default total of 12.4 meters)</p>
</dd>
<dt>cpsoil<span class="classifier">float, optional</span></dt><dd><p>Heat capacity of the soil, in J/m^3/K. Default is 2.4*10^6.</p>
</dd>
<dt>soilwatercap<span class="classifier">float, optional</span></dt><dd><p>Water capacity of the soil, in meters. Defaults to 0.5 meters</p>
</dd>
<dt>soilsaturation<span class="classifier">float, optional</span></dt><dd><p>Initial fractional saturation of the soil. Default is 0.0 (dry).</p>
</dd>
<dt>maxsnow<span class="classifier">float, optional</span></dt><dd><p>Maximum snow depth (Default is 5 meters; set to -1 to have no limit).</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Additional Physics</strong></p>
<blockquote>
<div><dl class="simple">
<dt>Carbon-Silicate Weathering</dt><dd><dl class="simple">
<dt>co2weathering<span class="classifier">bool, optional</span></dt><dd><p>True/False. Toggles whether or not carbon-silicate weathering should be
computed. Default is False.</p>
</dd>
<dt>evolveco2<span class="classifier">bool, optional</span></dt><dd><p>True/False. If co2weathering==True, toggles whether or not the CO2 partial
pressure should be updated every year. Usually the change in pCO2 will be
extremely small, so this is not necessary, and weathering experiments try
to estimate the average weathering rate for a given climate in order to
interpolate timescales between climates, rather than modelling changes in CO2
over time directly.</p>
</dd>
<dt>outgassing<span class="classifier">float, optional</span></dt><dd><p>The assumed CO2 outgassing rate in units of Earth outgassing. Default is 1.0.</p>
</dd>
<dt>erosionsupplylimit<span class="classifier">float, optional</span></dt><dd><p>If set, the maximum CO2 weathering rate per year permitted by
erosion, in ubars/year. This is not simply a hard cutoff, but follows
Foley 2015 so high weathering below the cutoff is also reduced.</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p>See <a href="#id89"><span class="problematic" id="id49">[1]_</span></a> for details on the implementation of supply-limited weathering.</p>
<blockquote>
<div><dl>
<dt>Glaciology</dt><dd><dl>
<dt>glaciers<span class="classifier">dict, optional</span></dt><dd><p>A dictionary containing the following arguments:
toggle : bool</p>
<blockquote>
<div><p>True/False. Whether or not glaciers should be allowed to grow or shrink in thickness, or be formed from persistent snow on land.</p>
</div></blockquote>
<dl class="simple">
<dt>mindepth<span class="classifier">float</span></dt><dd><p>The minimum snow depth in meters of liquid water equivalent that must persist year-round before the grid cell is considered glaciated. Default is 2 meters.</p>
</dd>
<dt>initialh<span class="classifier">float</span></dt><dd><p>If &gt;=0, covers the land surface with ice sheets of a height given in meterss. If -1, no initial ice sheets are assumed.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>Storm Climatology</dt><dd><dl>
<dt>stormclim<span class="classifier">bool, optional</span></dt><dd><p>True/False. Toggles whether or not storm climatology (convective available
potential energy, maximum potential intensity, ventilation index, etc)
should be computed. If True, output fields related to storm climatology
will be added to standard output files. Enabling this mode currently roughly
doubles the computational cost of the model. This may improve in future
updates. Refer to Paradise, et al 2021 for implementation description.</p>
</dd>
<dt>stormcapture<span class="classifier">dict, optional</span></dt><dd><p>A dictionary containing arguments controlling when high-cadence output
is triggered by storm activity. This dictionary must contain ‘toggle’, which
can be either 1 or 0 (yes or no). It may also contain any namelist
parameters accepted by hurricanemod.f90, including the following:</p>
<dl class="simple">
<dt>toggle<span class="classifier">{0,1}</span></dt><dd><p>Whether (1) or not (0) to write high-cadence output when storms occur</p>
</dd>
<dt>NKTRIGGER<span class="classifier">{0,1}, optional</span></dt><dd><p>(0/1=no/yes). Whether or not to use the Komacek, et al 2020 conditions for hurricane cyclogenesis as the output trigger. Default is no.</p>
</dd>
<dt>VITHRESH<span class="classifier">float, optional</span></dt><dd><p>(nktrigger) Ventilation index threshold for nktrigger output. Default 0.145</p>
</dd>
<dt>VMXTHRESH<span class="classifier">float, optional</span></dt><dd><p>(nktrigger) Max potential intensity threshold for nktrigger output.Default 33 m/s</p>
</dd>
<dt>LAVTHRESH<span class="classifier">float, optional</span></dt><dd><p>(nktrigger) Lower-atmosphere vorticity threshold for nktrigger output. Default 1.2*10^-5 s^-1</p>
</dd>
<dt>VRMTHRESH<span class="classifier">float, optional</span></dt><dd><p>(unused) Ventilation-reduced maximum intensity threshold. Default 0.577</p>
</dd>
<dt>GPITHRESH<span class="classifier">float, optional</span></dt><dd><p>(default) Genesis Potential Index threshold. Default 0.37.</p>
</dd>
<dt>MINSURFTEMP<span class="classifier">float, optional</span></dt><dd><p>(default) Min. surface temperature for storm activity. Default 25C</p>
</dd>
<dt>MAXSURFTEMP<span class="classifier">float, optional</span></dt><dd><p>(default) Max. surface temperature for storm activity. Default 100C</p>
</dd>
<dt>WINDTHRESH<span class="classifier">float, optional</span></dt><dd><p>(default) Lower-atmosphere maximum wind threshold for storm activity.  Default 33 m/s</p>
</dd>
<dt>SWINDTHRESH<span class="classifier">float, optional</span></dt><dd><p>(default) Minimum surface windspeed for storm activity. Default 20.5 m/s</p>
</dd>
<dt>SIZETHRESH<span class="classifier">float, optional</span></dt><dd><p>(default) Minimum number of cells that must trigger to start outputDefault 30</p>
</dd>
<dt>ENDTHRESH<span class="classifier">float, optional</span></dt><dd><p>(default) Minimum number of cells at which point storm output ends.Default 16</p>
</dd>
<dt>MINSTORMLEN<span class="classifier">float, optional</span></dt><dd><p>(default) Minimum number of timesteps to write output. Default 256</p>
</dd>
<dt>MAXSTORMLEN<span class="classifier">float, optional</span></dt><dd><p>(default) Maximum number of timesteps to write output. Default 1024</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p>Note that actual number of writes will be stormlen/interval, as set in highcadence. This interval defaults to 4, so 64 writes minimum, 256 max. For more details on the storm climatology factors considered here, see <a href="#id90"><span class="problematic" id="id50">[5]_</span></a>.</p>
</div></blockquote>
<p class="rubric">Notes</p>
<p>In some cases, it may be necessary to include physics filters. This typically becomes
necessary when sharp features are projected on the model’s smallest spectral modes, causing
Gibbs “ripples”. Earth-like models typically do not require filtering, but tidally-locked
models do. Filtering may be beneficial for Earth-like models at very high resolutions as well,
or if there is sharp topography.</p>
<p>Three filter functional forms are included in ExoPlaSim: Cesaro, exponential, and Lander-Hoskins. Their functional forms are given below, where <cite>n</cite> is the wavenumber, and <cite>N</cite> is the
truncation wavenumber (e.g. 21 for T21):</p>
<p>Cesaro: <span class="math notranslate nohighlight">\(f(n)=1-\frac{n}{N+1}\)</span> <a href="#id91"><span class="problematic" id="id51">[2]_</span></a></p>
<p>Exponential: <span class="math notranslate nohighlight">\(f(n)=\exp\left[-\kappa\left(\frac{n}{N}\right)^\gamma\right]\)</span> <a href="#id92"><span class="problematic" id="id52">[3]_</span></a></p>
<p>Lander-Hoskins: <span class="math notranslate nohighlight">\(f(n)=\exp\left[-\left(\frac{n(n+1)}{n_0(n_0+1}\right)^2\right]\)</span> <a href="#id93"><span class="problematic" id="id53">[3]_</span></a> <a href="#id94"><span class="problematic" id="id54">[4]_</span></a></p>
<p><span class="math notranslate nohighlight">\(\kappa\)</span> is exposed to the user through <code class="docutils literal notranslate"><span class="pre">filterkappa</span></code>,
<span class="math notranslate nohighlight">\(\gamma\)</span> is exposed through <code class="docutils literal notranslate"><span class="pre">filterpower</span></code>, and <span class="math notranslate nohighlight">\(n_0\)</span> is
exposed through <code class="docutils literal notranslate"><span class="pre">filterLHN0</span></code>.</p>
<p>Physics filters can be applied at two different points; either at the transform from gridpoint
to spectral, or the reverse. We find that in most cases, the ideal usage is to use both.
Generally, a filter at the gridpoint-&gt;spectral transform is good for dealing with oscillations
caused by sharp jumps and small features in the gridpoint tendencies. Conversely, a filter
at the spectral-&gt;gridpoint transform is good for dealing with oscillations that come from
small-scale features in the spectral fields causing small-scale features to appear in the
gridpoint tendencies <a href="#id95"><span class="problematic" id="id55">[3]_</span></a>. Since we deal with climate systems where everything is coupled,
any oscillations not removed by one filter will be amplified through physical feedbacks if not
suppressed by the other filter.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">modify</span></code></dt><dd><p>Change model configuration after it has been initialized</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id56"><span class="brackets">1</span></dt>
<dd><p>Foley, B. J. (2015). The Role of Plate Tectonic-Climate Coupling and Exposed Land Area in the Development of Habitable Climates on Rocky Planets. The Astrophysical Journal, 812(1), 36. <a class="reference external" href="https://doi.org/10.1088/0004-637X/812/1/36">https://doi.org/10.1088/0004-637X/812/1/36</a></p>
</dd>
<dt class="label" id="id57"><span class="brackets">2</span></dt>
<dd><p>Navarra, A., Stern, W. F., &amp; Miyakoda, K. (1994). Reduction of the Gibbs Oscillation in Spectral Model Simulations. Journal of Climate, 7(8), 1169–1183. <a class="reference external" href="https://doi.org/10.1175/1520-0442(1994">https://doi.org/10.1175/1520-0442(1994</a>)007&lt;1169:ROTGOI&gt;2.0.CO;2</p>
</dd>
<dt class="label" id="id58"><span class="brackets">3</span></dt>
<dd><p>Lander, J., &amp; Hoskins, B. J. (1997). Believable Scales and Parameterizations in a Spectral Transform Model. Monthly Weather Review, 125(2), 292–303. <a class="reference external" href="https://doi.org/10.1175/1520-0493(1997">https://doi.org/10.1175/1520-0493(1997</a>)125&lt;0292:BSAPIA&gt;2.0.CO;2</p>
</dd>
<dt class="label" id="id59"><span class="brackets">4</span></dt>
<dd><p>Scinocca, J. F., McFarlane, N. A., Lazare, M., Li, J., &amp; Plummer, D. (2008). Technical Note: The CCCma third generation AGCM and its extension into the middle atmosphere. Atmospheric Chemistry and Physics, 8(23), 7055–7074. <a class="reference external" href="https://doi.org/10.5194/acp-8-7055-2008">https://doi.org/10.5194/acp-8-7055-2008</a></p>
</dd>
<dt class="label" id="id60"><span class="brackets">5</span></dt>
<dd><p>Komacek, T. D., Chavas, D. R., &amp; Abbot, D. S. (2020). Hurricane Genesis is Favorable on Terrestrial Exoplanets Orbiting Late-type M Dwarf Stars. The Astrophysical Journal, 898(2), 115. <a class="reference external" href="https://doi.org/10.3847/1538-4357/aba0b9">https://doi.org/10.3847/1538-4357/aba0b9</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../index.html" class="btn btn-neutral float-left" title="ExoPlaSim Python API Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Adiv Paradise

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>